
# Builtin Cost Models

<pre class="Agda"><a id="29" class="Keyword">module</a> <a id="36" href="Cost.Model.html" class="Module">Cost.Model</a> <a id="47" class="Keyword">where</a>

</pre>
# Imports

<pre class="Agda"><a id="74" class="Keyword">open</a> <a id="79" class="Keyword">import</a> <a id="86" href="Agda.Builtin.Int.html" class="Module">Agda.Builtin.Int</a> <a id="103" class="Keyword">using</a> <a id="109" class="Symbol">(</a><a id="110" href="Agda.Builtin.Int.html#245" class="Datatype">Int</a><a id="113" class="Symbol">;</a><a id="114" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">pos</a><a id="117" class="Symbol">)</a>
<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="141" class="Keyword">using</a> <a id="147" class="Symbol">(</a><a id="148" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="152" class="Symbol">;</a><a id="153" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="158" class="Symbol">;</a><a id="159" href="Data.Bool.Base.html#1292" class="Function Operator">if_then_else_</a><a id="172" class="Symbol">;</a><a id="173" href="Data.Bool.Base.html#941" class="Function">not</a><a id="176" class="Symbol">)</a>
<a id="178" class="Keyword">open</a> <a id="183" class="Keyword">import</a> <a id="190" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="199" class="Keyword">using</a> <a id="205" class="Symbol">(</a><a id="206" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a><a id="209" class="Symbol">;</a><a id="210" href="Data.Fin.Base.html#1157" class="InductiveConstructor">zero</a><a id="214" class="Symbol">;</a><a id="215" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a><a id="218" class="Symbol">)</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="243" class="Keyword">using</a> <a id="249" class="Symbol">(</a><a id="250" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="255" class="Symbol">;</a><a id="256" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="260" class="Symbol">;</a><a id="261" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="268" class="Symbol">)</a> <a id="270" class="Keyword">renaming</a> <a id="279" class="Symbol">(</a><a id="280" href="Data.Maybe.Base.html#2029" class="Function">map</a> <a id="284" class="Symbol">to</a> <a id="287" class="Function">mapMaybe</a><a id="295" class="Symbol">)</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="318" class="Keyword">using</a> <a id="324" class="Symbol">(</a><a id="325" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="326" class="Symbol">;</a><a id="327" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="331" class="Symbol">;</a><a id="332" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="335" class="Symbol">;</a><a id="336" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="339" class="Symbol">;</a><a id="340" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="343" class="Symbol">;</a><a id="344" href="Data.Nat.Base.html#2883" class="Primitive Operator">_∸_</a><a id="347" class="Symbol">;</a><a id="348" href="Data.Nat.Base.html#3072" class="Function Operator">_⊔_</a><a id="351" class="Symbol">;</a><a id="352" href="Data.Nat.Base.html#3166" class="Function Operator">_⊓_</a><a id="355" class="Symbol">;</a><a id="356" href="Data.Nat.Base.html#1310" class="Primitive Operator">_&lt;ᵇ_</a><a id="360" class="Symbol">;</a><a id="361" href="Data.Nat.Base.html#1136" class="Primitive Operator">_≡ᵇ_</a><a id="365" class="Symbol">)</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Data.Nat.DivMod.html" class="Module">Data.Nat.DivMod</a> <a id="395" class="Keyword">using</a> <a id="401" class="Symbol">(</a><a id="402" href="Data.Nat.DivMod.html#1449" class="Function Operator">_/_</a><a id="405" class="Symbol">)</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Data.List.html" class="Module">Data.List</a> <a id="429" class="Keyword">using</a> <a id="435" class="Symbol">(</a><a id="436" href="Data.List.Base.html#10392" class="InductiveConstructor">[]</a><a id="438" class="Symbol">;</a><a id="439" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="442" class="Symbol">)</a>
<a id="444" class="Keyword">import</a> <a id="451" href="Data.List.html" class="Module">Data.List</a> <a id="461" class="Symbol">as</a> <a id="464" class="Module">L</a>
<a id="466" class="Keyword">open</a> <a id="471" class="Keyword">import</a> <a id="478" href="Data.Product.html" class="Module">Data.Product</a> <a id="491" class="Keyword">using</a> <a id="497" class="Symbol">(</a><a id="498" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="499" class="Symbol">;</a><a id="500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="503" class="Symbol">)</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Data.String.html" class="Module">Data.String</a> <a id="529" class="Keyword">using</a> <a id="535" class="Symbol">(</a><a id="536" href="Data.String.Properties.html#4038" class="Function Operator">_==_</a><a id="540" class="Symbol">)</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="571" class="Keyword">using</a> <a id="577" class="Symbol">(</a><a id="578" href="Relation.Nullary.html#1568" class="InductiveConstructor Operator">_because_</a><a id="587" class="Symbol">;</a><a id="588" href="Relation.Nullary.html#911" class="InductiveConstructor">ofʸ</a><a id="591" class="Symbol">)</a>
<a id="593" class="Keyword">open</a> <a id="598" class="Keyword">import</a> <a id="605" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="643" class="Keyword">using</a> <a id="649" class="Symbol">(</a><a id="650" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="654" class="Symbol">)</a>

<a id="657" class="Keyword">open</a> <a id="662" class="Keyword">import</a> <a id="669" href="Utils.html" class="Module">Utils</a> <a id="675" class="Keyword">using</a> <a id="681" class="Symbol">(</a><a id="682" href="Utils.html#4949" class="Datatype">List</a><a id="686" class="Symbol">;</a><a id="687" href="Utils.html#4708" class="Record Operator">_×_</a><a id="690" class="Symbol">;</a><a id="691" href="Utils.html#4978" class="InductiveConstructor">[]</a><a id="693" class="Symbol">;</a><a id="694" href="Utils.html#4993" class="InductiveConstructor Operator">_∷_</a><a id="697" class="Symbol">;</a><a id="698" href="Utils.html#3971" class="InductiveConstructor Operator">_,_</a><a id="701" class="Symbol">;</a><a id="702" href="Utils.html#5020" class="Function">length</a><a id="708" class="Symbol">)</a>
<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="731" class="Keyword">using</a> <a id="737" class="Symbol">(</a><a id="738" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a><a id="741" class="Symbol">;</a><a id="742" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="744" class="Symbol">;</a><a id="745" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">_∷_</a><a id="748" class="Symbol">;</a><a id="749" href="Data.Vec.Base.html#5423" class="Function">sum</a><a id="752" class="Symbol">;</a><a id="753" href="Data.Vec.Base.html#4764" class="Function">foldr</a><a id="758" class="Symbol">;</a><a id="759" href="Data.Vec.Base.html#1614" class="Function">lookup</a><a id="765" class="Symbol">;</a><a id="766" href="Data.Vec.Base.html#2589" class="Function">map</a><a id="769" class="Symbol">)</a>
<a id="771" class="Keyword">open</a> <a id="776" class="Keyword">import</a> <a id="783" href="Cost.Base.html" class="Module">Cost.Base</a>
<a id="793" class="Keyword">open</a> <a id="798" class="Keyword">import</a> <a id="805" href="Cost.Raw.html" class="Module">Cost.Raw</a> <a id="814" class="Keyword">renaming</a> <a id="823" class="Symbol">(</a><a id="824" href="Cost.Raw.html#2805" class="InductiveConstructor">mkLinearFunction</a> <a id="841" class="Symbol">to</a> <a id="844" class="InductiveConstructor">mkLF</a><a id="848" class="Symbol">;</a> <a id="850" href="Cost.Raw.html#3018" class="InductiveConstructor">mkQuadraticFunction</a> <a id="870" class="Symbol">to</a> <a id="873" class="InductiveConstructor">mkQF</a><a id="877" class="Symbol">)</a>
<a id="879" class="Keyword">open</a> <a id="884" class="Keyword">import</a> <a id="891" href="Cost.Size.html" class="Module">Cost.Size</a> <a id="901" class="Keyword">using</a> <a id="907" class="Symbol">()</a> <a id="910" class="Keyword">renaming</a> <a id="919" class="Symbol">(</a><a id="920" href="Cost.Size.html#3029" class="Function">defaultValueMeasure</a> <a id="940" class="Symbol">to</a> <a id="943" class="Function">sizeOf</a><a id="949" class="Symbol">)</a>
<a id="951" class="Keyword">open</a> <a id="956" class="Keyword">import</a> <a id="963" href="Builtin.html" class="Module">Builtin</a> <a id="971" class="Keyword">using</a> <a id="977" class="Symbol">(</a><a id="978" href="Builtin.html#1212" class="Datatype">Builtin</a><a id="985" class="Symbol">;</a><a id="986" href="Builtin.html#14096" class="Function">arity</a><a id="991" class="Symbol">;</a><a id="992" href="Builtin.html#26870" class="Function">builtinList</a><a id="1003" class="Symbol">;</a><a id="1004" href="Builtin.html#26722" class="Function">showBuiltin</a><a id="1015" class="Symbol">;</a><a id="1016" href="Builtin.html#26576" class="Function">decBuiltin</a><a id="1026" class="Symbol">)</a>
<a id="1028" class="Keyword">open</a> <a id="1033" class="Keyword">import</a> <a id="1040" href="Builtin.Signature.html" class="Module">Builtin.Signature</a> <a id="1058" class="Keyword">using</a> <a id="1064" class="Symbol">(</a><a id="1065" href="Builtin.Signature.html#1830" class="Datatype Operator">_⊢♯</a><a id="1068" class="Symbol">)</a>
<a id="1070" class="Keyword">open</a> <a id="1075" href="Builtin.Signature.html#1830" class="Module Operator">_⊢♯</a>
<a id="1079" class="Keyword">open</a> <a id="1084" class="Keyword">import</a> <a id="1091" href="Builtin.Constant.AtomicType.html" class="Module">Builtin.Constant.AtomicType</a> <a id="1119" class="Keyword">using</a> <a id="1125" class="Symbol">(</a><a id="1126" href="Builtin.Constant.AtomicType.html#514" class="Datatype">AtomicTyCon</a><a id="1137" class="Symbol">;</a><a id="1138" href="Builtin.Constant.AtomicType.html#540" class="InductiveConstructor">aInteger</a><a id="1146" class="Symbol">)</a>
<a id="1148" class="Keyword">open</a> <a id="1153" class="Keyword">import</a> <a id="1160" href="Untyped.CEK.html" class="Module">Untyped.CEK</a> <a id="1172" class="Keyword">using</a> <a id="1178" class="Symbol">(</a><a id="1179" href="Untyped.CEK.html#1224" class="Datatype">Value</a><a id="1184" class="Symbol">;</a><a id="1185" href="Untyped.CEK.html#1493" class="InductiveConstructor">V-con</a><a id="1190" class="Symbol">)</a>
</pre>
## Basic Definitions

<pre class="Agda"><a id="Intercept"></a><a id="1223" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="1233" class="Symbol">:</a> <a id="1235" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1239" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="1249" class="Symbol">=</a> <a id="1251" href="Cost.Base.html#743" class="Function">CostingNat</a>

<a id="Slope"></a><a id="1263" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="1269" class="Symbol">:</a> <a id="1271" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1275" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="1281" class="Symbol">=</a> <a id="1283" href="Cost.Base.html#743" class="Function">CostingNat</a>
</pre>
## Models

A model is indexed by the number of arguments.

For example, for `ifThenElse` we would assign a model `constantCost : CostingModel 3`,
which is a model for a builtin that takes three arguments.

For `linearCost` the model takes an index indicating on which argument the cost
should be calculated.

<pre class="Agda"><a id="1612" class="Keyword">data</a> <a id="CostingModel"></a><a id="1617" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="1630" class="Symbol">:</a> <a id="1632" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1634" class="Symbol">→</a> <a id="1636" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1640" class="Keyword">where</a>
   <a id="1649" class="Comment">-- Any number of arguments</a>
  <a id="CostingModel.constantCost"></a><a id="1678" href="Cost.Model.html#1678" class="InductiveConstructor">constantCost</a>       <a id="1697" class="Symbol">:</a> <a id="1699" class="Symbol">∀{</a><a id="1701" href="Cost.Model.html#1701" class="Bound">n</a><a id="1702" class="Symbol">}</a> <a id="1704" class="Symbol">→</a> <a id="1706" href="Cost.Base.html#743" class="Function">CostingNat</a> <a id="1717" class="Symbol">→</a> <a id="1719" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="1732" href="Cost.Model.html#1701" class="Bound">n</a>
  <a id="CostingModel.linearCostIn"></a><a id="1736" href="Cost.Model.html#1736" class="InductiveConstructor">linearCostIn</a>       <a id="1755" class="Symbol">:</a> <a id="1757" class="Symbol">∀{</a><a id="1759" href="Cost.Model.html#1759" class="Bound">n</a><a id="1760" class="Symbol">}</a> <a id="1762" class="Symbol">→</a> <a id="1764" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="1768" href="Cost.Model.html#1759" class="Bound">n</a> <a id="1770" class="Symbol">→</a> <a id="1772" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="1782" class="Symbol">→</a> <a id="1784" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="1790" class="Symbol">→</a> <a id="1792" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="1805" href="Cost.Model.html#1759" class="Bound">n</a>
  <a id="CostingModel.quadraticCostIn"></a><a id="1809" href="Cost.Model.html#1809" class="InductiveConstructor">quadraticCostIn</a>    <a id="1828" class="Symbol">:</a> <a id="1830" class="Symbol">∀{</a><a id="1832" href="Cost.Model.html#1832" class="Bound">n</a><a id="1833" class="Symbol">}</a> <a id="1835" class="Symbol">→</a> <a id="1837" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="1841" href="Cost.Model.html#1832" class="Bound">n</a> <a id="1843" class="Symbol">→</a> <a id="1845" href="Cost.Base.html#743" class="Function">CostingNat</a> <a id="1856" class="Symbol">→</a> <a id="1858" href="Cost.Base.html#743" class="Function">CostingNat</a> <a id="1869" class="Symbol">→</a> <a id="1871" href="Cost.Base.html#743" class="Function">CostingNat</a> <a id="1882" class="Symbol">→</a> <a id="1884" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="1897" href="Cost.Model.html#1832" class="Bound">n</a>
   <a id="1902" class="Comment">-- take the cost literally if it is a positive integer, or else, use the provided model.</a>
  <a id="CostingModel.literalCostIn"></a><a id="1993" href="Cost.Model.html#1993" class="InductiveConstructor">literalCostIn</a>      <a id="2012" class="Symbol">:</a> <a id="2014" class="Symbol">∀{</a><a id="2016" href="Cost.Model.html#2016" class="Bound">n</a><a id="2017" class="Symbol">}</a> <a id="2019" class="Symbol">→</a> <a id="2021" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="2025" href="Cost.Model.html#2016" class="Bound">n</a> <a id="2027" class="Symbol">→</a> <a id="2029" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2042" href="Cost.Model.html#2016" class="Bound">n</a> <a id="2044" class="Symbol">→</a> <a id="2046" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2059" href="Cost.Model.html#2016" class="Bound">n</a>
  <a id="CostingModel.addedSizes"></a><a id="2063" href="Cost.Model.html#2063" class="InductiveConstructor">addedSizes</a>         <a id="2082" class="Symbol">:</a> <a id="2084" class="Symbol">∀{</a><a id="2086" href="Cost.Model.html#2086" class="Bound">n</a><a id="2087" class="Symbol">}</a> <a id="2089" class="Symbol">→</a> <a id="2091" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="2101" class="Symbol">→</a> <a id="2103" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="2109" class="Symbol">→</a> <a id="2111" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2124" href="Cost.Model.html#2086" class="Bound">n</a>
  <a id="CostingModel.multipliedSizes"></a><a id="2128" href="Cost.Model.html#2128" class="InductiveConstructor">multipliedSizes</a>    <a id="2147" class="Symbol">:</a> <a id="2149" class="Symbol">∀{</a><a id="2151" href="Cost.Model.html#2151" class="Bound">n</a><a id="2152" class="Symbol">}</a> <a id="2154" class="Symbol">→</a> <a id="2156" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="2166" class="Symbol">→</a> <a id="2168" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="2174" class="Symbol">→</a> <a id="2176" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2189" href="Cost.Model.html#2151" class="Bound">n</a>
  <a id="2193" class="Comment">-- at least one argument</a>
  <a id="CostingModel.minSize"></a><a id="2220" href="Cost.Model.html#2220" class="InductiveConstructor">minSize</a>            <a id="2239" class="Symbol">:</a> <a id="2241" class="Symbol">∀{</a><a id="2243" href="Cost.Model.html#2243" class="Bound">n</a><a id="2244" class="Symbol">}</a> <a id="2246" class="Symbol">→</a> <a id="2248" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="2258" class="Symbol">→</a> <a id="2260" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="2266" class="Symbol">→</a> <a id="2268" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2281" class="Symbol">(</a><a id="2282" class="Number">1</a> <a id="2284" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2286" href="Cost.Model.html#2243" class="Bound">n</a><a id="2287" class="Symbol">)</a>
  <a id="CostingModel.maxSize"></a><a id="2291" href="Cost.Model.html#2291" class="InductiveConstructor">maxSize</a>            <a id="2310" class="Symbol">:</a> <a id="2312" class="Symbol">∀{</a><a id="2314" href="Cost.Model.html#2314" class="Bound">n</a><a id="2315" class="Symbol">}</a> <a id="2317" class="Symbol">→</a> <a id="2319" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="2329" class="Symbol">→</a> <a id="2331" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="2337" class="Symbol">→</a> <a id="2339" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2352" class="Symbol">(</a><a id="2353" class="Number">1</a> <a id="2355" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2357" href="Cost.Model.html#2314" class="Bound">n</a><a id="2358" class="Symbol">)</a>
   <a id="2363" class="Comment">-- exactly two arguments</a>
  <a id="CostingModel.twoArgumentsLinearInXAndY"></a><a id="2390" href="Cost.Model.html#2390" class="InductiveConstructor">twoArgumentsLinearInXAndY</a>      <a id="2421" class="Symbol">:</a> <a id="2423" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="2433" class="Symbol">→</a> <a id="2435" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="2441" class="Symbol">→</a> <a id="2443" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="2449" class="Symbol">→</a> <a id="2451" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2464" class="Number">2</a>
  <a id="CostingModel.twoArgumentsSubtractedSizes"></a><a id="2468" href="Cost.Model.html#2468" class="InductiveConstructor">twoArgumentsSubtractedSizes</a>    <a id="2499" class="Symbol">:</a> <a id="2501" href="Cost.Model.html#1223" class="Function">Intercept</a> <a id="2511" class="Symbol">→</a> <a id="2513" href="Cost.Model.html#1263" class="Function">Slope</a> <a id="2519" class="Symbol">→</a> <a id="2521" href="Cost.Base.html#743" class="Function">CostingNat</a> <a id="2532" class="Symbol">→</a> <a id="2534" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2547" class="Number">2</a>
  <a id="CostingModel.twoArgumentsConstAboveDiagonal"></a><a id="2551" href="Cost.Model.html#2551" class="InductiveConstructor">twoArgumentsConstAboveDiagonal</a> <a id="2582" class="Symbol">:</a> <a id="2584" href="Cost.Base.html#743" class="Function">CostingNat</a> <a id="2595" class="Symbol">→</a> <a id="2597" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2610" class="Number">2</a> <a id="2612" class="Symbol">→</a> <a id="2614" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2627" class="Number">2</a>
  <a id="CostingModel.twoArgumentsConstBelowDiagonal"></a><a id="2631" href="Cost.Model.html#2631" class="InductiveConstructor">twoArgumentsConstBelowDiagonal</a> <a id="2662" class="Symbol">:</a> <a id="2664" href="Cost.Base.html#743" class="Function">CostingNat</a> <a id="2675" class="Symbol">→</a> <a id="2677" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2690" class="Number">2</a> <a id="2692" class="Symbol">→</a> <a id="2694" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2707" class="Number">2</a>
  <a id="CostingModel.twoArgumentsConstOffDiagonal"></a><a id="2711" href="Cost.Model.html#2711" class="InductiveConstructor">twoArgumentsConstOffDiagonal</a>   <a id="2742" class="Symbol">:</a> <a id="2744" href="Cost.Base.html#743" class="Function">CostingNat</a> <a id="2755" class="Symbol">→</a> <a id="2757" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2770" class="Number">2</a> <a id="2772" class="Symbol">→</a> <a id="2774" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2787" class="Number">2</a>
</pre>
A model of a builtin consists of a pair of costing models, one for CPU and one for memory.

<pre class="Agda"><a id="2890" class="Keyword">record</a> <a id="BuiltinModel"></a><a id="2897" href="Cost.Model.html#2897" class="Record">BuiltinModel</a> <a id="2910" class="Symbol">(</a><a id="2911" href="Cost.Model.html#2911" class="Bound">ar</a> <a id="2914" class="Symbol">:</a> <a id="2916" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2917" class="Symbol">)</a> <a id="2919" class="Symbol">:</a> <a id="2921" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2925" class="Keyword">where</a>
    <a id="2935" class="Keyword">field</a>
        <a id="BuiltinModel.costingCPU"></a><a id="2949" href="Cost.Model.html#2949" class="Field">costingCPU</a> <a id="BuiltinModel.costingMem"></a><a id="2960" href="Cost.Model.html#2960" class="Field">costingMem</a> <a id="2971" class="Symbol">:</a> <a id="2973" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="2986" href="Cost.Model.html#2911" class="Bound">ar</a>

<a id="2990" class="Keyword">open</a> <a id="2995" href="Cost.Model.html#2897" class="Module">BuiltinModel</a> <a id="3008" class="Keyword">public</a>
</pre>
### Model interpretations

Some helper functions.

<pre class="Agda"><a id="prod"></a><a id="3075" href="Cost.Model.html#3075" class="Function">prod</a> <a id="3080" class="Symbol">:</a> <a id="3082" class="Symbol">∀</a> <a id="3084" class="Symbol">{</a><a id="3085" href="Cost.Model.html#3085" class="Bound">n</a><a id="3086" class="Symbol">}</a> <a id="3088" class="Symbol">→</a> <a id="3090" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="3094" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3096" href="Cost.Model.html#3085" class="Bound">n</a> <a id="3098" class="Symbol">→</a> <a id="3100" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="3102" href="Cost.Model.html#3075" class="Function">prod</a> <a id="3107" class="Symbol">=</a> <a id="3109" href="Data.Vec.Base.html#4764" class="Function">foldr</a> <a id="3115" class="Symbol">_</a> <a id="3117" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a> <a id="3121" class="Number">1</a>

<a id="maximum"></a><a id="3124" href="Cost.Model.html#3124" class="Function">maximum</a> <a id="minimum"></a><a id="3132" href="Cost.Model.html#3132" class="Function">minimum</a> <a id="3140" class="Symbol">:</a> <a id="3142" class="Symbol">∀</a> <a id="3144" class="Symbol">{</a><a id="3145" href="Cost.Model.html#3145" class="Bound">n</a><a id="3146" class="Symbol">}</a> <a id="3148" class="Symbol">→</a> <a id="3150" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="3154" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3156" class="Symbol">(</a><a id="3157" class="InductiveConstructor">suc</a> <a id="3161" href="Cost.Model.html#3145" class="Bound">n</a><a id="3162" class="Symbol">)</a> <a id="3164" class="Symbol">→</a> <a id="3166" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="3168" href="Cost.Model.html#3124" class="Function">maximum</a> <a id="3176" class="Symbol">(</a><a id="3177" href="Cost.Model.html#3177" class="Bound">a</a> <a id="3179" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="3181" href="Cost.Model.html#3181" class="Bound">xs</a><a id="3183" class="Symbol">)</a> <a id="3185" class="Symbol">=</a> <a id="3187" href="Data.Vec.Base.html#4764" class="Function">foldr</a> <a id="3193" class="Symbol">_</a> <a id="3195" href="Data.Nat.Base.html#3072" class="Function Operator">_⊔_</a> <a id="3199" href="Cost.Model.html#3177" class="Bound">a</a> <a id="3201" href="Cost.Model.html#3181" class="Bound">xs</a>
<a id="3204" href="Cost.Model.html#3132" class="Function">minimum</a> <a id="3212" class="Symbol">(</a><a id="3213" href="Cost.Model.html#3213" class="Bound">a</a> <a id="3215" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="3217" href="Cost.Model.html#3217" class="Bound">xs</a><a id="3219" class="Symbol">)</a> <a id="3221" class="Symbol">=</a> <a id="3223" href="Data.Vec.Base.html#4764" class="Function">foldr</a> <a id="3229" class="Symbol">_</a> <a id="3231" href="Data.Nat.Base.html#3166" class="Function Operator">_⊓_</a> <a id="3235" href="Cost.Model.html#3213" class="Bound">a</a> <a id="3237" href="Cost.Model.html#3217" class="Bound">xs</a>
</pre>
Given a model and the sizes of the arguments we can compute a cost.

<pre class="Agda"><a id="runModel"></a><a id="3318" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3327" class="Symbol">:</a> <a id="3329" class="Symbol">∀{</a><a id="3331" href="Cost.Model.html#3331" class="Bound">n</a><a id="3332" class="Symbol">}</a> <a id="3334" class="Symbol">→</a> <a id="3336" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="3349" href="Cost.Model.html#3331" class="Bound">n</a> <a id="3351" class="Symbol">→</a> <a id="3353" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="3357" href="Untyped.CEK.html#1224" class="Datatype">Value</a> <a id="3363" href="Cost.Model.html#3331" class="Bound">n</a> <a id="3365" class="Symbol">→</a> <a id="3367" href="Cost.Base.html#743" class="Function">CostingNat</a>
<a id="3378" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3387" class="Symbol">(</a><a id="3388" href="Cost.Model.html#1678" class="InductiveConstructor">constantCost</a> <a id="3401" href="Cost.Model.html#3401" class="Bound">x</a><a id="3402" class="Symbol">)</a> <a id="3404" class="Symbol">_</a> <a id="3406" class="Symbol">=</a> <a id="3408" href="Cost.Model.html#3401" class="Bound">x</a>
<a id="3410" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3419" class="Symbol">(</a><a id="3420" href="Cost.Model.html#1736" class="InductiveConstructor">linearCostIn</a> <a id="3433" href="Cost.Model.html#3433" class="Bound">n</a> <a id="3435" href="Cost.Model.html#3435" class="Bound">i</a> <a id="3437" href="Cost.Model.html#3437" class="Bound">s</a><a id="3438" class="Symbol">)</a> <a id="3440" href="Cost.Model.html#3440" class="Bound">xs</a> <a id="3443" class="Symbol">=</a> <a id="3445" href="Cost.Model.html#3435" class="Bound">i</a> <a id="3447" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3449" href="Cost.Model.html#3437" class="Bound">s</a> <a id="3451" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3453" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="3460" class="Symbol">(</a><a id="3461" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="3468" href="Cost.Model.html#3440" class="Bound">xs</a> <a id="3471" href="Cost.Model.html#3433" class="Bound">n</a><a id="3472" class="Symbol">)</a>
<a id="3474" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3483" class="Symbol">(</a><a id="3484" href="Cost.Model.html#1809" class="InductiveConstructor">quadraticCostIn</a> <a id="3500" href="Cost.Model.html#3500" class="Bound">n</a> <a id="3502" href="Cost.Model.html#3502" class="Bound">c0</a> <a id="3505" href="Cost.Model.html#3505" class="Bound">c1</a> <a id="3508" href="Cost.Model.html#3508" class="Bound">c2</a><a id="3510" class="Symbol">)</a> <a id="3512" href="Cost.Model.html#3512" class="Bound">xs</a> <a id="3515" class="Symbol">=</a> <a id="3517" class="Keyword">let</a> <a id="3521" href="Cost.Model.html#3521" class="Bound">x</a> <a id="3523" class="Symbol">=</a> <a id="3525" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="3532" class="Symbol">(</a><a id="3533" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="3540" href="Cost.Model.html#3512" class="Bound">xs</a> <a id="3543" href="Cost.Model.html#3500" class="Bound">n</a><a id="3544" class="Symbol">)</a> <a id="3546" class="Keyword">in</a> <a id="3549" href="Cost.Model.html#3502" class="Bound">c0</a> <a id="3552" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3554" href="Cost.Model.html#3505" class="Bound">c1</a> <a id="3557" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3559" href="Cost.Model.html#3521" class="Bound">x</a> <a id="3561" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3563" href="Cost.Model.html#3508" class="Bound">c2</a> <a id="3566" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3568" href="Cost.Model.html#3521" class="Bound">x</a> <a id="3570" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3572" href="Cost.Model.html#3521" class="Bound">x</a>
<a id="3574" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3583" class="Symbol">(</a><a id="3584" href="Cost.Model.html#2063" class="InductiveConstructor">addedSizes</a> <a id="3595" href="Cost.Model.html#3595" class="Bound">i</a> <a id="3597" href="Cost.Model.html#3597" class="Bound">s</a><a id="3598" class="Symbol">)</a> <a id="3600" href="Cost.Model.html#3600" class="Bound">xs</a> <a id="3603" class="Symbol">=</a> <a id="3605" href="Cost.Model.html#3595" class="Bound">i</a> <a id="3607" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3609" href="Cost.Model.html#3597" class="Bound">s</a> <a id="3611" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3613" class="Symbol">(</a><a id="3614" href="Data.Vec.Base.html#5423" class="Function">sum</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Data.Vec.Base.html#2589" class="Function">map</a> <a id="3623" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="3630" href="Cost.Model.html#3600" class="Bound">xs</a><a id="3632" class="Symbol">))</a>
<a id="3635" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3644" class="Symbol">(</a><a id="3645" href="Cost.Model.html#2128" class="InductiveConstructor">multipliedSizes</a> <a id="3661" href="Cost.Model.html#3661" class="Bound">i</a> <a id="3663" href="Cost.Model.html#3663" class="Bound">s</a><a id="3664" class="Symbol">)</a> <a id="3666" href="Cost.Model.html#3666" class="Bound">xs</a> <a id="3669" class="Symbol">=</a> <a id="3671" href="Cost.Model.html#3661" class="Bound">i</a> <a id="3673" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3675" href="Cost.Model.html#3663" class="Bound">s</a> <a id="3677" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3679" class="Symbol">(</a><a id="3680" href="Cost.Model.html#3075" class="Function">prod</a> <a id="3685" class="Symbol">(</a><a id="3686" href="Data.Vec.Base.html#2589" class="Function">map</a> <a id="3690" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="3697" href="Cost.Model.html#3666" class="Bound">xs</a><a id="3699" class="Symbol">))</a>
<a id="3702" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3711" class="Symbol">(</a><a id="3712" href="Cost.Model.html#2220" class="InductiveConstructor">minSize</a> <a id="3720" href="Cost.Model.html#3720" class="Bound">i</a> <a id="3722" href="Cost.Model.html#3722" class="Bound">s</a><a id="3723" class="Symbol">)</a> <a id="3725" href="Cost.Model.html#3725" class="Bound">xs</a> <a id="3728" class="Symbol">=</a> <a id="3730" href="Cost.Model.html#3720" class="Bound">i</a> <a id="3732" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3734" href="Cost.Model.html#3722" class="Bound">s</a> <a id="3736" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3738" href="Cost.Model.html#3132" class="Function">minimum</a> <a id="3746" class="Symbol">(</a><a id="3747" href="Data.Vec.Base.html#2589" class="Function">map</a> <a id="3751" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="3758" href="Cost.Model.html#3725" class="Bound">xs</a><a id="3760" class="Symbol">)</a>
<a id="3762" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3771" class="Symbol">(</a><a id="3772" href="Cost.Model.html#2291" class="InductiveConstructor">maxSize</a> <a id="3780" href="Cost.Model.html#3780" class="Bound">i</a> <a id="3782" href="Cost.Model.html#3782" class="Bound">s</a><a id="3783" class="Symbol">)</a> <a id="3785" href="Cost.Model.html#3785" class="Bound">xs</a> <a id="3788" class="Symbol">=</a> <a id="3790" href="Cost.Model.html#3780" class="Bound">i</a> <a id="3792" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3794" href="Cost.Model.html#3782" class="Bound">s</a> <a id="3796" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3798" href="Cost.Model.html#3124" class="Function">maximum</a> <a id="3806" class="Symbol">(</a><a id="3807" href="Data.Vec.Base.html#2589" class="Function">map</a> <a id="3811" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="3818" href="Cost.Model.html#3785" class="Bound">xs</a><a id="3820" class="Symbol">)</a>
<a id="3822" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3831" class="Symbol">(</a><a id="3832" href="Cost.Model.html#2390" class="InductiveConstructor">twoArgumentsLinearInXAndY</a> <a id="3858" href="Cost.Model.html#3858" class="Bound">i</a> <a id="3860" href="Cost.Model.html#3860" class="Bound">s₁</a> <a id="3863" href="Cost.Model.html#3863" class="Bound">s₂</a><a id="3865" class="Symbol">)</a> <a id="3867" class="Symbol">(</a><a id="3868" href="Cost.Model.html#3868" class="Bound">x</a> <a id="3870" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="3872" href="Cost.Model.html#3872" class="Bound">y</a> <a id="3874" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="3876" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="3878" class="Symbol">)</a> <a id="3880" class="Symbol">=</a>
  <a id="3884" class="Keyword">let</a> <a id="3888" href="Cost.Model.html#3888" class="Bound">a</a> <a id="3890" class="Symbol">=</a> <a id="3892" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="3899" href="Cost.Model.html#3868" class="Bound">x</a>
      <a id="3907" href="Cost.Model.html#3907" class="Bound">b</a> <a id="3909" class="Symbol">=</a> <a id="3911" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="3918" href="Cost.Model.html#3872" class="Bound">y</a>
  <a id="3922" class="Keyword">in</a> <a id="3925" href="Cost.Model.html#3858" class="Bound">i</a> <a id="3927" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3929" href="Cost.Model.html#3860" class="Bound">s₁</a> <a id="3932" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3934" href="Cost.Model.html#3888" class="Bound">a</a> <a id="3936" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3938" href="Cost.Model.html#3863" class="Bound">s₂</a> <a id="3941" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3943" href="Cost.Model.html#3907" class="Bound">b</a>
<a id="3945" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="3954" class="Symbol">(</a><a id="3955" href="Cost.Model.html#2468" class="InductiveConstructor">twoArgumentsSubtractedSizes</a> <a id="3983" href="Cost.Model.html#3983" class="Bound">i</a> <a id="3985" href="Cost.Model.html#3985" class="Bound">s</a> <a id="3987" href="Cost.Model.html#3987" class="Bound">min</a><a id="3990" class="Symbol">)</a> <a id="3992" class="Symbol">(</a><a id="3993" href="Cost.Model.html#3993" class="Bound">x</a> <a id="3995" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="3997" href="Cost.Model.html#3997" class="Bound">y</a> <a id="3999" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4001" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="4003" class="Symbol">)</a> <a id="4005" class="Symbol">=</a>
  <a id="4009" class="Keyword">let</a> <a id="4013" href="Cost.Model.html#4013" class="Bound">a</a> <a id="4015" class="Symbol">=</a> <a id="4017" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="4024" href="Cost.Model.html#3993" class="Bound">x</a>
      <a id="4032" href="Cost.Model.html#4032" class="Bound">b</a> <a id="4034" class="Symbol">=</a> <a id="4036" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="4043" href="Cost.Model.html#3997" class="Bound">y</a>
  <a id="4047" class="Keyword">in</a> <a id="4050" href="Cost.Model.html#3983" class="Bound">i</a> <a id="4052" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="4054" href="Cost.Model.html#3985" class="Bound">s</a> <a id="4056" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4058" class="Symbol">(</a><a id="4059" href="Cost.Model.html#3987" class="Bound">min</a> <a id="4063" href="Data.Nat.Base.html#3072" class="Function Operator">⊔</a> <a id="4065" class="Symbol">(</a><a id="4066" href="Cost.Model.html#4013" class="Bound">a</a> <a id="4068" href="Data.Nat.Base.html#2883" class="Primitive Operator">∸</a> <a id="4070" href="Cost.Model.html#4032" class="Bound">b</a><a id="4071" class="Symbol">))</a>
<a id="4074" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="4083" class="Symbol">(</a><a id="4084" href="Cost.Model.html#2551" class="InductiveConstructor">twoArgumentsConstAboveDiagonal</a> <a id="4115" href="Cost.Model.html#4115" class="Bound">c</a> <a id="4117" href="Cost.Model.html#4117" class="Bound">m</a><a id="4118" class="Symbol">)</a> <a id="4120" class="Symbol">(</a><a id="4121" href="Cost.Model.html#4121" class="Bound">x</a> <a id="4123" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4125" href="Cost.Model.html#4125" class="Bound">y</a> <a id="4127" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4129" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="4131" class="Symbol">)</a> <a id="4133" class="Symbol">=</a>
  <a id="4137" class="Keyword">let</a> <a id="4141" href="Cost.Model.html#4141" class="Bound">a</a> <a id="4143" class="Symbol">=</a> <a id="4145" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="4152" href="Cost.Model.html#4121" class="Bound">x</a>
      <a id="4160" href="Cost.Model.html#4160" class="Bound">b</a> <a id="4162" class="Symbol">=</a> <a id="4164" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="4171" href="Cost.Model.html#4125" class="Bound">y</a>
  <a id="4175" class="Keyword">in</a> <a id="4178" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="4181" href="Cost.Model.html#4141" class="Bound">a</a> <a id="4183" href="Data.Nat.Base.html#1310" class="Primitive Operator">&lt;ᵇ</a> <a id="4186" href="Cost.Model.html#4160" class="Bound">b</a>
      <a id="4194" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="4199" href="Cost.Model.html#4115" class="Bound">c</a>
      <a id="4207" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="4212" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="4221" href="Cost.Model.html#4117" class="Bound">m</a> <a id="4223" class="Symbol">(</a><a id="4224" href="Cost.Model.html#4121" class="Bound">x</a> <a id="4226" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4228" href="Cost.Model.html#4125" class="Bound">y</a> <a id="4230" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4232" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="4234" class="Symbol">)</a>
<a id="4236" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="4245" class="Symbol">(</a><a id="4246" href="Cost.Model.html#2631" class="InductiveConstructor">twoArgumentsConstBelowDiagonal</a> <a id="4277" href="Cost.Model.html#4277" class="Bound">c</a> <a id="4279" href="Cost.Model.html#4279" class="Bound">m</a><a id="4280" class="Symbol">)</a> <a id="4282" class="Symbol">(</a><a id="4283" href="Cost.Model.html#4283" class="Bound">x</a> <a id="4285" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4287" href="Cost.Model.html#4287" class="Bound">y</a> <a id="4289" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4291" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="4293" class="Symbol">)</a> <a id="4295" class="Symbol">=</a>
  <a id="4299" class="Keyword">let</a> <a id="4303" href="Cost.Model.html#4303" class="Bound">a</a> <a id="4305" class="Symbol">=</a> <a id="4307" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="4314" href="Cost.Model.html#4283" class="Bound">x</a>
      <a id="4322" href="Cost.Model.html#4322" class="Bound">b</a> <a id="4324" class="Symbol">=</a> <a id="4326" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="4333" href="Cost.Model.html#4287" class="Bound">y</a>
  <a id="4337" class="Keyword">in</a> <a id="4340" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="4343" href="Cost.Model.html#4322" class="Bound">b</a> <a id="4345" href="Data.Nat.Base.html#1310" class="Primitive Operator">&lt;ᵇ</a> <a id="4348" href="Cost.Model.html#4303" class="Bound">a</a>
      <a id="4356" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="4361" href="Cost.Model.html#4277" class="Bound">c</a>
      <a id="4369" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="4374" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="4383" href="Cost.Model.html#4279" class="Bound">m</a> <a id="4385" class="Symbol">(</a><a id="4386" href="Cost.Model.html#4283" class="Bound">x</a> <a id="4388" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4390" href="Cost.Model.html#4287" class="Bound">y</a> <a id="4392" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4394" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="4396" class="Symbol">)</a>
<a id="4398" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="4407" class="Symbol">(</a><a id="4408" href="Cost.Model.html#2711" class="InductiveConstructor">twoArgumentsConstOffDiagonal</a> <a id="4437" href="Cost.Model.html#4437" class="Bound">c</a> <a id="4439" href="Cost.Model.html#4439" class="Bound">m</a><a id="4440" class="Symbol">)</a> <a id="4442" class="Symbol">(</a><a id="4443" href="Cost.Model.html#4443" class="Bound">x</a> <a id="4445" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4447" href="Cost.Model.html#4447" class="Bound">y</a> <a id="4449" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4451" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="4453" class="Symbol">)</a> <a id="4455" class="Symbol">=</a>
  <a id="4459" class="Keyword">let</a> <a id="4463" href="Cost.Model.html#4463" class="Bound">a</a> <a id="4465" class="Symbol">=</a> <a id="4467" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="4474" href="Cost.Model.html#4443" class="Bound">x</a>
      <a id="4482" href="Cost.Model.html#4482" class="Bound">b</a> <a id="4484" class="Symbol">=</a> <a id="4486" href="Cost.Model.html#943" class="Function">sizeOf</a> <a id="4493" href="Cost.Model.html#4447" class="Bound">y</a>
  <a id="4497" class="Keyword">in</a> <a id="4500" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="4503" href="Data.Bool.Base.html#941" class="Function">not</a> <a id="4507" class="Symbol">(</a><a id="4508" href="Cost.Model.html#4463" class="Bound">a</a> <a id="4510" href="Data.Nat.Base.html#1136" class="Primitive Operator">≡ᵇ</a> <a id="4513" href="Cost.Model.html#4482" class="Bound">b</a><a id="4514" class="Symbol">)</a>
      <a id="4522" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="4527" href="Cost.Model.html#4437" class="Bound">c</a>
      <a id="4535" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="4540" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="4549" href="Cost.Model.html#4439" class="Bound">m</a> <a id="4551" class="Symbol">(</a><a id="4552" href="Cost.Model.html#4443" class="Bound">x</a> <a id="4554" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4556" href="Cost.Model.html#4447" class="Bound">y</a> <a id="4558" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="4560" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="4562" class="Symbol">)</a>
<a id="4564" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="4573" class="Symbol">(</a><a id="4574" href="Cost.Model.html#1993" class="InductiveConstructor">literalCostIn</a> <a id="4588" href="Cost.Model.html#4588" class="Bound">n</a> <a id="4590" href="Cost.Model.html#4590" class="Bound">m</a><a id="4591" class="Symbol">)</a> <a id="4593" href="Cost.Model.html#4593" class="Bound">xs</a> <a id="4596" class="Keyword">with</a> <a id="4601" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="4608" href="Cost.Model.html#4593" class="Bound">xs</a> <a id="4611" href="Cost.Model.html#4588" class="Bound">n</a>
<a id="4613" class="Symbol">...</a> <a id="4617" class="Symbol">|</a> <a id="4619" href="Untyped.CEK.html#1493" class="InductiveConstructor">V-con</a> <a id="4625" class="Symbol">(</a><a id="4626" href="Builtin.Signature.html#1953" class="InductiveConstructor">atomic</a> <a id="4633" href="Builtin.Constant.AtomicType.html#540" class="InductiveConstructor">aInteger</a><a id="4641" class="Symbol">)</a> <a id="4643" class="Symbol">(</a><a id="4644" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">pos</a> <a id="4648" class="Symbol">(</a><a id="4649" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4653" href="Cost.Model.html#4653" class="Bound">n</a><a id="4654" class="Symbol">))</a> <a id="4657" class="Symbol">=</a> <a id="4659" class="Symbol">(</a><a id="4660" href="Cost.Model.html#4653" class="Bound">n</a> <a id="4662" href="Data.Nat.DivMod.html#1449" class="Function Operator">/</a> <a id="4664" class="Number">8</a><a id="4665" class="Symbol">)</a> <a id="4667" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="4669" class="Number">1</a>
  <a id="4673" class="Comment">--only uses the literal size if positive integer.</a>
<a id="4723" class="CatchallClause Symbol">...</a><a id="4726" class="CatchallClause"> </a><a id="4727" class="CatchallClause Symbol">|</a><a id="4728" class="CatchallClause"> </a><a id="4729" class="CatchallClause Symbol">_</a> <a id="4731" class="Symbol">=</a> <a id="4733" href="Cost.Model.html#3318" class="Function">runModel</a> <a id="4742" class="Bound">m</a> <a id="4744" class="Bound">xs</a>
</pre>
## Convert from Raw Model

May fail if the model doesn't correspond to the number of arguments.

<pre class="Agda"><a id="convertRawModel"></a><a id="4853" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="4869" class="Symbol">:</a> <a id="4871" class="Symbol">∀{</a><a id="4873" href="Cost.Model.html#4873" class="Bound">n</a><a id="4874" class="Symbol">}</a> <a id="4876" class="Symbol">→</a> <a id="4878" href="Cost.Raw.html#3221" class="Datatype">RawModel</a> <a id="4887" class="Symbol">→</a> <a id="4889" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4895" class="Symbol">(</a><a id="4896" href="Cost.Model.html#1617" class="Datatype">CostingModel</a> <a id="4909" href="Cost.Model.html#4873" class="Bound">n</a><a id="4910" class="Symbol">)</a>
<a id="4912" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="4928" class="Symbol">(</a><a id="4929" href="Cost.Raw.html#3246" class="InductiveConstructor">ConstantCost</a> <a id="4942" href="Cost.Model.html#4942" class="Bound">c</a><a id="4943" class="Symbol">)</a> <a id="4945" class="Symbol">=</a> <a id="4947" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4952" class="Symbol">(</a><a id="4953" href="Cost.Model.html#1678" class="InductiveConstructor">constantCost</a> <a id="4966" href="Cost.Model.html#4942" class="Bound">c</a><a id="4967" class="Symbol">)</a>
<a id="4969" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="4985" class="Symbol">(</a><a id="4986" href="Cost.Raw.html#3296" class="InductiveConstructor">AddedSizes</a> <a id="4997" class="Symbol">(</a><a id="4998" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="5003" href="Cost.Model.html#5003" class="Bound">intercept</a> <a id="5013" href="Cost.Model.html#5013" class="Bound">slope</a><a id="5018" class="Symbol">))</a> <a id="5021" class="Symbol">=</a> <a id="5023" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5028" class="Symbol">(</a><a id="5029" href="Cost.Model.html#2063" class="InductiveConstructor">addedSizes</a> <a id="5040" href="Cost.Model.html#5003" class="Bound">intercept</a> <a id="5050" href="Cost.Model.html#5013" class="Bound">slope</a><a id="5055" class="Symbol">)</a>
<a id="5057" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5073" class="Symbol">(</a><a id="5074" href="Cost.Raw.html#3350" class="InductiveConstructor">MultipliedSizes</a> <a id="5090" class="Symbol">(</a><a id="5091" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="5096" href="Cost.Model.html#5096" class="Bound">intercept</a> <a id="5106" href="Cost.Model.html#5106" class="Bound">slope</a><a id="5111" class="Symbol">))</a> <a id="5114" class="Symbol">=</a> <a id="5116" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5121" class="Symbol">(</a><a id="5122" href="Cost.Model.html#2128" class="InductiveConstructor">multipliedSizes</a> <a id="5138" href="Cost.Model.html#5096" class="Bound">intercept</a> <a id="5148" href="Cost.Model.html#5106" class="Bound">slope</a><a id="5153" class="Symbol">)</a>
<a id="5155" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5171" class="Symbol">{</a><a id="5172" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5176" href="Cost.Model.html#5176" class="Bound">n</a><a id="5177" class="Symbol">}</a> <a id="5179" class="Symbol">(</a><a id="5180" href="Cost.Raw.html#3404" class="InductiveConstructor">MinSize</a> <a id="5188" class="Symbol">(</a><a id="5189" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="5194" href="Cost.Model.html#5194" class="Bound">intercept</a> <a id="5204" href="Cost.Model.html#5204" class="Bound">slope</a><a id="5209" class="Symbol">))</a> <a id="5212" class="Symbol">=</a> <a id="5214" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5219" class="Symbol">(</a><a id="5220" href="Cost.Model.html#2220" class="InductiveConstructor">minSize</a> <a id="5228" href="Cost.Model.html#5194" class="Bound">intercept</a> <a id="5238" href="Cost.Model.html#5204" class="Bound">slope</a><a id="5243" class="Symbol">)</a>
<a id="5245" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5261" class="Symbol">{</a><a id="5262" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5266" href="Cost.Model.html#5266" class="Bound">n</a><a id="5267" class="Symbol">}</a> <a id="5269" class="Symbol">(</a><a id="5270" href="Cost.Raw.html#3458" class="InductiveConstructor">MaxSize</a> <a id="5278" class="Symbol">(</a><a id="5279" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="5284" href="Cost.Model.html#5284" class="Bound">intercept</a> <a id="5294" href="Cost.Model.html#5294" class="Bound">slope</a><a id="5299" class="Symbol">))</a> <a id="5302" class="Symbol">=</a> <a id="5304" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5309" class="Symbol">(</a><a id="5310" href="Cost.Model.html#2291" class="InductiveConstructor">maxSize</a> <a id="5318" href="Cost.Model.html#5284" class="Bound">intercept</a> <a id="5328" href="Cost.Model.html#5294" class="Bound">slope</a><a id="5333" class="Symbol">)</a>
<a id="5335" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5351" class="Symbol">{</a><a id="5352" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5356" href="Cost.Model.html#5356" class="Bound">n</a><a id="5357" class="Symbol">}</a> <a id="5359" class="Symbol">(</a><a id="5360" href="Cost.Raw.html#3512" class="InductiveConstructor">LinearInX</a> <a id="5370" class="Symbol">(</a><a id="5371" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="5376" href="Cost.Model.html#5376" class="Bound">intercept</a> <a id="5386" href="Cost.Model.html#5386" class="Bound">slope</a><a id="5391" class="Symbol">))</a> <a id="5394" class="Symbol">=</a> <a id="5396" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5401" class="Symbol">(</a><a id="5402" href="Cost.Model.html#1736" class="InductiveConstructor">linearCostIn</a> <a id="5415" href="Data.Fin.Base.html#1157" class="InductiveConstructor">zero</a> <a id="5420" href="Cost.Model.html#5376" class="Bound">intercept</a> <a id="5430" href="Cost.Model.html#5386" class="Bound">slope</a><a id="5435" class="Symbol">)</a>
<a id="5437" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5453" class="Symbol">{</a><a id="5454" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5458" class="Symbol">(</a><a id="5459" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5463" href="Cost.Model.html#5463" class="Bound">n</a><a id="5464" class="Symbol">)}</a> <a id="5467" class="Symbol">(</a><a id="5468" href="Cost.Raw.html#3566" class="InductiveConstructor">LinearInY</a> <a id="5478" class="Symbol">(</a><a id="5479" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="5484" href="Cost.Model.html#5484" class="Bound">intercept</a> <a id="5494" href="Cost.Model.html#5494" class="Bound">slope</a><a id="5499" class="Symbol">))</a> <a id="5502" class="Symbol">=</a> <a id="5504" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5509" class="Symbol">(</a><a id="5510" href="Cost.Model.html#1736" class="InductiveConstructor">linearCostIn</a> <a id="5523" class="Symbol">(</a><a id="5524" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="5528" href="Data.Fin.Base.html#1157" class="InductiveConstructor">zero</a><a id="5532" class="Symbol">)</a> <a id="5534" href="Cost.Model.html#5484" class="Bound">intercept</a> <a id="5544" href="Cost.Model.html#5494" class="Bound">slope</a><a id="5549" class="Symbol">)</a>
<a id="5551" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5567" class="Symbol">{</a><a id="5568" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5572" class="Symbol">(</a><a id="5573" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5577" href="Cost.Model.html#5577" class="Bound">n</a><a id="5578" class="Symbol">)}</a> <a id="5581" class="Symbol">(</a><a id="5582" href="Cost.Raw.html#3728" class="InductiveConstructor">QuadraticInY</a> <a id="5595" class="Symbol">(</a><a id="5596" href="Cost.Model.html#873" class="InductiveConstructor">mkQF</a> <a id="5601" href="Cost.Model.html#5601" class="Bound">c0</a> <a id="5604" href="Cost.Model.html#5604" class="Bound">c1</a> <a id="5607" href="Cost.Model.html#5607" class="Bound">c2</a><a id="5609" class="Symbol">))</a> <a id="5612" class="Symbol">=</a> <a id="5614" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5619" class="Symbol">(</a><a id="5620" href="Cost.Model.html#1809" class="InductiveConstructor">quadraticCostIn</a> <a id="5636" class="Symbol">(</a><a id="5637" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="5641" href="Data.Fin.Base.html#1157" class="InductiveConstructor">zero</a><a id="5645" class="Symbol">)</a> <a id="5647" href="Cost.Model.html#5601" class="Bound">c0</a> <a id="5650" href="Cost.Model.html#5604" class="Bound">c1</a> <a id="5653" href="Cost.Model.html#5607" class="Bound">c2</a><a id="5655" class="Symbol">)</a>
<a id="5657" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5673" class="Symbol">{</a><a id="5674" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5678" class="Symbol">(</a><a id="5679" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5683" class="Symbol">(</a><a id="5684" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5688" href="Cost.Model.html#5688" class="Bound">n</a><a id="5689" class="Symbol">))}(</a><a id="5693" href="Cost.Raw.html#3620" class="InductiveConstructor">LinearInZ</a> <a id="5703" class="Symbol">(</a><a id="5704" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="5709" href="Cost.Model.html#5709" class="Bound">intercept</a> <a id="5719" href="Cost.Model.html#5719" class="Bound">slope</a><a id="5724" class="Symbol">))</a> <a id="5727" class="Symbol">=</a> <a id="5729" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5734" class="Symbol">(</a><a id="5735" href="Cost.Model.html#1736" class="InductiveConstructor">linearCostIn</a> <a id="5748" class="Symbol">(</a><a id="5749" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="5753" class="Symbol">(</a><a id="5754" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="5758" href="Data.Fin.Base.html#1157" class="InductiveConstructor">zero</a><a id="5762" class="Symbol">))</a> <a id="5765" href="Cost.Model.html#5709" class="Bound">intercept</a> <a id="5775" href="Cost.Model.html#5719" class="Bound">slope</a><a id="5780" class="Symbol">)</a>
<a id="5782" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5798" class="Symbol">{</a><a id="5799" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5803" class="Symbol">(</a><a id="5804" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5808" class="Symbol">(</a><a id="5809" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5813" href="Cost.Model.html#5813" class="Bound">n</a><a id="5814" class="Symbol">))}</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Cost.Raw.html#3785" class="InductiveConstructor">QuadraticInZ</a> <a id="5832" class="Symbol">(</a><a id="5833" href="Cost.Model.html#873" class="InductiveConstructor">mkQF</a> <a id="5838" href="Cost.Model.html#5838" class="Bound">c0</a> <a id="5841" href="Cost.Model.html#5841" class="Bound">c1</a> <a id="5844" href="Cost.Model.html#5844" class="Bound">c2</a><a id="5846" class="Symbol">))</a> <a id="5849" class="Symbol">=</a> <a id="5851" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5856" class="Symbol">(</a><a id="5857" href="Cost.Model.html#1809" class="InductiveConstructor">quadraticCostIn</a> <a id="5873" class="Symbol">(</a><a id="5874" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="5878" class="Symbol">(</a><a id="5879" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="5883" href="Data.Fin.Base.html#1157" class="InductiveConstructor">zero</a><a id="5887" class="Symbol">))</a> <a id="5890" href="Cost.Model.html#5838" class="Bound">c0</a> <a id="5893" href="Cost.Model.html#5841" class="Bound">c1</a> <a id="5896" href="Cost.Model.html#5844" class="Bound">c2</a><a id="5898" class="Symbol">)</a>
<a id="5900" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="5916" class="Symbol">{</a><a id="5917" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5921" class="Symbol">(</a><a id="5922" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5926" class="Symbol">(</a><a id="5927" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5931" href="Cost.Model.html#5931" class="Bound">n</a><a id="5932" class="Symbol">))}</a> <a id="5936" class="Symbol">(</a><a id="5937" href="Cost.Raw.html#3674" class="InductiveConstructor">LiteralInYOrLinearInZ</a> <a id="5959" class="Symbol">(</a><a id="5960" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="5965" href="Cost.Model.html#5965" class="Bound">intercept</a> <a id="5975" href="Cost.Model.html#5975" class="Bound">slope</a><a id="5980" class="Symbol">))</a> <a id="5983" class="Symbol">=</a>
    <a id="5989" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5994" class="Symbol">(</a><a id="5995" href="Cost.Model.html#1993" class="InductiveConstructor">literalCostIn</a>  <a id="6010" class="Symbol">(</a><a id="6011" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="6015" href="Data.Fin.Base.html#1157" class="InductiveConstructor">zero</a><a id="6019" class="Symbol">)</a> <a id="6021" class="Symbol">(</a><a id="6022" href="Cost.Model.html#1736" class="InductiveConstructor">linearCostIn</a> <a id="6035" class="Symbol">(</a><a id="6036" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="6040" class="Symbol">(</a><a id="6041" href="Data.Fin.Base.html#1188" class="InductiveConstructor">suc</a> <a id="6045" href="Data.Fin.Base.html#1157" class="InductiveConstructor">zero</a><a id="6049" class="Symbol">))</a> <a id="6052" href="Cost.Model.html#5965" class="Bound">intercept</a> <a id="6062" href="Cost.Model.html#5975" class="Bound">slope</a><a id="6067" class="Symbol">))</a>
<a id="6070" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6086" class="Symbol">{</a><a id="6087" class="Number">2</a><a id="6088" class="Symbol">}</a> <a id="6090" class="Symbol">(</a><a id="6091" href="Cost.Raw.html#3842" class="InductiveConstructor">SubtractedSizes</a> <a id="6107" class="Symbol">(</a><a id="6108" href="Cost.Model.html#844" class="InductiveConstructor">mkLF</a> <a id="6113" href="Cost.Model.html#6113" class="Bound">intercept</a> <a id="6123" href="Cost.Model.html#6123" class="Bound">slope</a><a id="6128" class="Symbol">)</a> <a id="6130" href="Cost.Model.html#6130" class="Bound">c</a><a id="6131" class="Symbol">)</a> <a id="6133" class="Symbol">=</a> <a id="6135" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6140" class="Symbol">(</a><a id="6141" href="Cost.Model.html#2468" class="InductiveConstructor">twoArgumentsSubtractedSizes</a> <a id="6169" href="Cost.Model.html#6113" class="Bound">intercept</a> <a id="6179" href="Cost.Model.html#6123" class="Bound">slope</a> <a id="6185" href="Cost.Model.html#6130" class="Bound">c</a><a id="6186" class="Symbol">)</a>
<a id="6188" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6204" class="Symbol">{</a><a id="6205" class="Number">2</a><a id="6206" class="Symbol">}</a> <a id="6208" class="Symbol">(</a><a id="6209" href="Cost.Raw.html#3909" class="InductiveConstructor">ConstAboveDiagonal</a> <a id="6228" href="Cost.Model.html#6228" class="Bound">c</a> <a id="6230" href="Cost.Model.html#6230" class="Bound">m</a><a id="6231" class="Symbol">)</a> <a id="6233" class="Symbol">=</a> <a id="6235" href="Cost.Model.html#287" class="Function">mapMaybe</a> <a id="6244" class="Symbol">(</a><a id="6245" href="Cost.Model.html#2551" class="InductiveConstructor">twoArgumentsConstAboveDiagonal</a> <a id="6276" href="Cost.Model.html#6228" class="Bound">c</a><a id="6277" class="Symbol">)</a> <a id="6279" class="Symbol">(</a><a id="6280" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6296" href="Cost.Model.html#6230" class="Bound">m</a><a id="6297" class="Symbol">)</a>
<a id="6299" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6315" class="Symbol">{</a><a id="6316" class="Number">2</a><a id="6317" class="Symbol">}</a> <a id="6319" class="Symbol">(</a><a id="6320" href="Cost.Raw.html#3970" class="InductiveConstructor">ConstBelowDiagonal</a> <a id="6339" href="Cost.Model.html#6339" class="Bound">c</a> <a id="6341" href="Cost.Model.html#6341" class="Bound">m</a><a id="6342" class="Symbol">)</a> <a id="6344" class="Symbol">=</a> <a id="6346" href="Cost.Model.html#287" class="Function">mapMaybe</a> <a id="6355" class="Symbol">(</a><a id="6356" href="Cost.Model.html#2631" class="InductiveConstructor">twoArgumentsConstBelowDiagonal</a> <a id="6387" href="Cost.Model.html#6339" class="Bound">c</a><a id="6388" class="Symbol">)</a> <a id="6390" class="Symbol">(</a><a id="6391" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6407" href="Cost.Model.html#6341" class="Bound">m</a><a id="6408" class="Symbol">)</a>
<a id="6410" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6426" class="Symbol">{</a><a id="6427" class="Number">2</a><a id="6428" class="Symbol">}</a> <a id="6430" class="Symbol">(</a><a id="6431" href="Cost.Raw.html#4031" class="InductiveConstructor">ConstOffDiagonal</a> <a id="6448" href="Cost.Model.html#6448" class="Bound">c</a> <a id="6450" href="Cost.Model.html#6450" class="Bound">m</a><a id="6451" class="Symbol">)</a> <a id="6453" class="Symbol">=</a> <a id="6455" href="Cost.Model.html#287" class="Function">mapMaybe</a> <a id="6464" class="Symbol">(</a><a id="6465" href="Cost.Model.html#2711" class="InductiveConstructor">twoArgumentsConstOffDiagonal</a> <a id="6494" href="Cost.Model.html#6448" class="Bound">c</a><a id="6495" class="Symbol">)</a> <a id="6497" class="Symbol">(</a><a id="6498" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6514" href="Cost.Model.html#6450" class="Bound">m</a><a id="6515" class="Symbol">)</a>
<a id="6517" href="Cost.Model.html#4853" class="CatchallClause Function">convertRawModel</a><a id="6532" class="CatchallClause"> </a><a id="6533" class="CatchallClause Symbol">_</a> <a id="6535" class="Symbol">=</a> <a id="6537" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="convertCpuAndMemoryModel"></a><a id="6546" href="Cost.Model.html#6546" class="Function">convertCpuAndMemoryModel</a> <a id="6571" class="Symbol">:</a> <a id="6573" class="Symbol">∀{</a><a id="6575" href="Cost.Model.html#6575" class="Bound">n</a><a id="6576" class="Symbol">}</a> <a id="6578" class="Symbol">→</a> <a id="6580" href="Cost.Raw.html#4515" class="Record">CpuAndMemoryModel</a> <a id="6598" class="Symbol">→</a> <a id="6600" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6606" class="Symbol">(</a><a id="6607" href="Cost.Model.html#2897" class="Record">BuiltinModel</a> <a id="6620" href="Cost.Model.html#6575" class="Bound">n</a><a id="6621" class="Symbol">)</a>
<a id="6623" href="Cost.Model.html#6546" class="Function">convertCpuAndMemoryModel</a> <a id="6648" class="Symbol">(</a><a id="6649" href="Cost.Raw.html#4562" class="InductiveConstructor">mkCpuAndMemoryModel</a> <a id="6669" href="Cost.Model.html#6669" class="Bound">cpuModel</a> <a id="6678" href="Cost.Model.html#6678" class="Bound">memoryModel</a><a id="6689" class="Symbol">)</a> <a id="6691" class="Keyword">with</a> <a id="6696" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6712" href="Cost.Model.html#6669" class="Bound">cpuModel</a> <a id="6721" class="Symbol">|</a> <a id="6723" href="Cost.Model.html#4853" class="Function">convertRawModel</a> <a id="6739" href="Cost.Model.html#6678" class="Bound">memoryModel</a>
<a id="6751" class="Symbol">...</a> <a id="6755" class="Symbol">|</a> <a id="6757" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6762" href="Cost.Model.html#6762" class="Bound">cm</a> <a id="6765" class="Symbol">|</a> <a id="6767" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6772" href="Cost.Model.html#6772" class="Bound">mm</a> <a id="6775" class="Symbol">=</a> <a id="6777" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6782" class="Symbol">(</a><a id="6783" class="Keyword">record</a> <a id="6790" class="Symbol">{</a> <a id="6792" href="Cost.Model.html#2949" class="Field">costingCPU</a> <a id="6803" class="Symbol">=</a> <a id="6805" href="Cost.Model.html#6762" class="Bound">cm</a> <a id="6808" class="Symbol">;</a> <a id="6810" href="Cost.Model.html#2960" class="Field">costingMem</a> <a id="6821" class="Symbol">=</a> <a id="6823" href="Cost.Model.html#6772" class="Bound">mm</a> <a id="6826" class="Symbol">})</a>
<a id="6829" class="CatchallClause Symbol">...</a><a id="6832" class="CatchallClause"> </a><a id="6833" class="CatchallClause Symbol">|</a><a id="6834" class="CatchallClause"> </a><a id="6835" class="CatchallClause Symbol">_</a><a id="6836" class="CatchallClause"> </a><a id="6837" class="CatchallClause Symbol">|</a><a id="6838" class="CatchallClause"> </a><a id="6839" class="CatchallClause Symbol">_</a> <a id="6841" class="Symbol">=</a> <a id="6843" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
</pre>
## Creation of mapping function

Creates a function mapping builtins to their corresponding costing models,
starting from a `BuiltinCostMap`.

We need to construct a `BuiltinModel (arity b)` for each `b`, and this may fail if
the model in the map doesn't correspond to the arity.

<pre class="Agda"><a id="getModel"></a><a id="7141" href="Cost.Model.html#7141" class="Function">getModel</a> <a id="7150" class="Symbol">:</a> <a id="7152" href="Builtin.html#1212" class="Datatype">Builtin</a> <a id="7160" class="Symbol">→</a> <a id="7162" href="Cost.Raw.html#4737" class="Function">BuiltinCostMap</a> <a id="7177" class="Symbol">→</a> <a id="7179" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7185" class="Symbol">(</a><a id="7186" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="7188" href="Builtin.html#1212" class="Datatype">Builtin</a> <a id="7196" class="Symbol">(λ</a> <a id="7199" href="Cost.Model.html#7199" class="Bound">b</a> <a id="7201" class="Symbol">→</a> <a id="7203" class="Symbol">(</a><a id="7204" href="Cost.Model.html#2897" class="Record">BuiltinModel</a> <a id="7217" class="Symbol">(</a><a id="7218" href="Builtin.html#14096" class="Function">arity</a> <a id="7224" href="Cost.Model.html#7199" class="Bound">b</a><a id="7225" class="Symbol">))))</a>
<a id="7230" href="Cost.Model.html#7141" class="Function">getModel</a> <a id="7239" href="Cost.Model.html#7239" class="Bound">b</a> <a id="7241" href="Utils.html#4978" class="InductiveConstructor">[]</a> <a id="7244" class="Symbol">=</a> <a id="7246" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="7254" href="Cost.Model.html#7141" class="Function">getModel</a> <a id="7263" href="Cost.Model.html#7263" class="Bound">b</a> <a id="7265" class="Symbol">((</a><a id="7267" href="Cost.Model.html#7267" class="Bound">bn</a> <a id="7270" href="Utils.html#4752" class="InductiveConstructor Operator">,</a> <a id="7272" href="Cost.Model.html#7272" class="Bound">rm</a><a id="7274" class="Symbol">)</a> <a id="7276" href="Utils.html#4993" class="InductiveConstructor Operator">∷</a> <a id="7278" href="Cost.Model.html#7278" class="Bound">xs</a><a id="7280" class="Symbol">)</a> <a id="7282" class="Keyword">with</a> <a id="7287" href="Builtin.html#26722" class="Function">showBuiltin</a> <a id="7299" href="Cost.Model.html#7263" class="Bound">b</a> <a id="7301" href="Data.String.Properties.html#4038" class="Function Operator">==</a> <a id="7304" href="Cost.Model.html#7267" class="Bound">bn</a>
<a id="7307" class="Symbol">...</a> <a id="7311" class="Symbol">|</a> <a id="7313" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="7319" class="Symbol">=</a> <a id="7321" href="Cost.Model.html#7141" class="Function">getModel</a> <a id="7330" class="Bound">b</a> <a id="7332" class="Bound">xs</a>
<a id="7335" class="Symbol">...</a> <a id="7339" class="Symbol">|</a> <a id="7341" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="7346" class="Symbol">=</a> <a id="7348" href="Cost.Model.html#287" class="Function">mapMaybe</a> <a id="7357" class="Symbol">(</a><a id="7358" class="Bound">b</a> <a id="7360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="7362" class="Symbol">)</a> <a id="7364" class="Symbol">(</a><a id="7365" href="Cost.Model.html#6546" class="Function">convertCpuAndMemoryModel</a> <a id="7390" class="Bound">rm</a><a id="7392" class="Symbol">)</a>
</pre>
Once we have a list of all the builtins and their corresponding model,
we need to turn this into a function.

However Agda doesn't know that we are providing a model for *every* constructor,
so we provide a `dummyModel` to answer in the `[]` case.

<pre class="Agda"><a id="dummyModel"></a><a id="7652" href="Cost.Model.html#7652" class="Function">dummyModel</a> <a id="7663" class="Symbol">:</a>  <a id="7666" class="Symbol">∀{</a><a id="7668" href="Cost.Model.html#7668" class="Bound">n</a><a id="7669" class="Symbol">}</a> <a id="7671" class="Symbol">→</a> <a id="7673" href="Cost.Model.html#2897" class="Record">BuiltinModel</a> <a id="7686" href="Cost.Model.html#7668" class="Bound">n</a>
<a id="7688" href="Cost.Model.html#7652" class="Function">dummyModel</a> <a id="7699" class="Symbol">=</a> <a id="7701" class="Keyword">record</a> <a id="7708" class="Symbol">{</a> <a id="7710" href="Cost.Model.html#2949" class="Field">costingCPU</a> <a id="7721" class="Symbol">=</a> <a id="7723" href="Cost.Model.html#1678" class="InductiveConstructor">constantCost</a> <a id="7736" class="Number">0</a> <a id="7738" class="Symbol">;</a> <a id="7740" href="Cost.Model.html#2960" class="Field">costingMem</a> <a id="7751" class="Symbol">=</a> <a id="7753" href="Cost.Model.html#1678" class="InductiveConstructor">constantCost</a> <a id="7766" class="Number">0</a> <a id="7768" class="Symbol">}</a>

<a id="lookupModel"></a><a id="7771" href="Cost.Model.html#7771" class="Function">lookupModel</a> <a id="7783" class="Symbol">:</a> <a id="7785" href="Agda.Builtin.List.html#147" class="Datatype">L.List</a> <a id="7792" class="Symbol">(</a><a id="7793" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="7795" href="Builtin.html#1212" class="Datatype">Builtin</a> <a id="7803" class="Symbol">(λ</a> <a id="7806" href="Cost.Model.html#7806" class="Bound">b</a> <a id="7808" class="Symbol">→</a> <a id="7810" class="Symbol">(</a><a id="7811" href="Cost.Model.html#2897" class="Record">BuiltinModel</a> <a id="7824" class="Symbol">(</a><a id="7825" href="Builtin.html#14096" class="Function">arity</a> <a id="7831" href="Cost.Model.html#7806" class="Bound">b</a><a id="7832" class="Symbol">))))</a> <a id="7837" class="Symbol">→</a> <a id="7839" class="Symbol">(</a><a id="7840" href="Cost.Model.html#7840" class="Bound">b</a> <a id="7842" class="Symbol">:</a> <a id="7844" href="Builtin.html#1212" class="Datatype">Builtin</a><a id="7851" class="Symbol">)</a> <a id="7853" class="Symbol">→</a> <a id="7855" href="Cost.Model.html#2897" class="Record">BuiltinModel</a> <a id="7868" class="Symbol">(</a><a id="7869" href="Builtin.html#14096" class="Function">arity</a> <a id="7875" href="Cost.Model.html#7840" class="Bound">b</a><a id="7876" class="Symbol">)</a>
<a id="7878" href="Cost.Model.html#7771" class="Function">lookupModel</a> <a id="7890" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="7893" class="Symbol">_</a> <a id="7895" class="Symbol">=</a> <a id="7897" href="Cost.Model.html#7652" class="Function">dummyModel</a>  <a id="7909" class="Comment">--should not happen if builtinList is complete</a>
                                  <a id="7990" class="Comment">--but Agda doesn&#39;t know this (we do).</a>
<a id="8028" href="Cost.Model.html#7771" class="Function">lookupModel</a> <a id="8040" class="Symbol">((</a><a id="8042" href="Cost.Model.html#8042" class="Bound">b</a> <a id="8044" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8046" href="Cost.Model.html#8046" class="Bound">bm</a><a id="8048" class="Symbol">)</a> <a id="8050" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8052" href="Cost.Model.html#8052" class="Bound">xs</a><a id="8054" class="Symbol">)</a> <a id="8056" href="Cost.Model.html#8056" class="Bound">b&#39;</a> <a id="8059" class="Keyword">with</a> <a id="8064" href="Builtin.html#26576" class="Function">decBuiltin</a> <a id="8075" href="Cost.Model.html#8042" class="Bound">b</a> <a id="8077" href="Cost.Model.html#8056" class="Bound">b&#39;</a>
<a id="8080" class="Symbol">...</a> <a id="8084" class="Symbol">|</a> <a id="8086" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="8092" href="Relation.Nullary.html#1568" class="InductiveConstructor Operator">because</a> <a id="8100" href="Cost.Model.html#8100" class="Bound">p</a> <a id="8102" class="Symbol">=</a> <a id="8104" href="Cost.Model.html#7771" class="Function">lookupModel</a> <a id="8116" class="Bound">xs</a> <a id="8119" class="Bound">b&#39;</a>
<a id="8122" class="Symbol">...</a> <a id="8126" class="Symbol">|</a> <a id="8128" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="8133" href="Relation.Nullary.html#1568" class="InductiveConstructor Operator">because</a> <a id="8141" href="Relation.Nullary.html#911" class="InductiveConstructor">ofʸ</a> <a id="8145" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8150" class="Symbol">=</a> <a id="8152" class="Bound">bm</a>

<a id="allJust"></a><a id="8156" href="Cost.Model.html#8156" class="Function">allJust</a> <a id="8164" class="Symbol">:</a> <a id="8166" class="Symbol">{</a><a id="8167" href="Cost.Model.html#8167" class="Bound">A</a> <a id="8169" class="Symbol">:</a> <a id="8171" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="8174" class="Symbol">}</a> <a id="8176" class="Symbol">→</a> <a id="8178" class="Symbol">(</a><a id="8179" href="Cost.Model.html#8179" class="Bound">xs</a> <a id="8182" class="Symbol">:</a> <a id="8184" href="Agda.Builtin.List.html#147" class="Datatype">L.List</a> <a id="8191" class="Symbol">(</a><a id="8192" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8198" href="Cost.Model.html#8167" class="Bound">A</a><a id="8199" class="Symbol">))</a> <a id="8202" class="Symbol">→</a> <a id="8204" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8210" class="Symbol">(</a><a id="8211" href="Agda.Builtin.List.html#147" class="Datatype">L.List</a> <a id="8218" href="Cost.Model.html#8167" class="Bound">A</a><a id="8219" class="Symbol">)</a>
<a id="8221" href="Cost.Model.html#8156" class="Function">allJust</a> <a id="8229" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8232" class="Symbol">=</a> <a id="8234" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8239" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="8242" href="Cost.Model.html#8156" class="Function">allJust</a> <a id="8250" class="Symbol">(</a><a id="8251" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8256" href="Cost.Model.html#8256" class="Bound">x</a> <a id="8258" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8260" href="Cost.Model.html#8260" class="Bound">xs</a><a id="8262" class="Symbol">)</a> <a id="8264" class="Keyword">with</a> <a id="8269" href="Cost.Model.html#8156" class="Function">allJust</a> <a id="8277" href="Cost.Model.html#8260" class="Bound">xs</a>
<a id="8280" class="Symbol">...</a> <a id="8284" class="Symbol">|</a> <a id="8286" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8291" href="Cost.Model.html#8291" class="Bound">xs&#39;</a> <a id="8295" class="Symbol">=</a> <a id="8297" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8302" class="Symbol">(</a><a id="8303" class="Bound">x</a> <a id="8305" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8307" href="Cost.Model.html#8291" class="Bound">xs&#39;</a><a id="8310" class="Symbol">)</a>
<a id="8312" class="Symbol">...</a> <a id="8316" class="Symbol">|</a> <a id="8318" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="8326" class="Symbol">=</a> <a id="8328" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="8336" href="Cost.Model.html#8156" class="Function">allJust</a> <a id="8344" class="Symbol">(</a><a id="8345" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="8353" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8355" href="Cost.Model.html#8355" class="Bound">xs</a><a id="8357" class="Symbol">)</a> <a id="8359" class="Symbol">=</a> <a id="8361" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="ModelAssignment"></a><a id="8370" href="Cost.Model.html#8370" class="Function">ModelAssignment</a> <a id="8386" class="Symbol">:</a> <a id="8388" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="8392" href="Cost.Model.html#8370" class="Function">ModelAssignment</a> <a id="8408" class="Symbol">=</a> <a id="8410" class="Symbol">(</a><a id="8411" href="Cost.Model.html#8411" class="Bound">b</a> <a id="8413" class="Symbol">:</a> <a id="8415" href="Builtin.html#1212" class="Datatype">Builtin</a><a id="8422" class="Symbol">)</a> <a id="8424" class="Symbol">→</a> <a id="8426" href="Cost.Model.html#2897" class="Record">BuiltinModel</a> <a id="8439" class="Symbol">(</a><a id="8440" href="Builtin.html#14096" class="Function">arity</a> <a id="8446" href="Cost.Model.html#8411" class="Bound">b</a><a id="8447" class="Symbol">)</a>

<a id="createMap"></a><a id="8450" href="Cost.Model.html#8450" class="Function">createMap</a> <a id="8460" class="Symbol">:</a> <a id="8462" href="Cost.Raw.html#4737" class="Function">BuiltinCostMap</a> <a id="8477" class="Symbol">→</a> <a id="8479" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8485" href="Cost.Model.html#8370" class="Function">ModelAssignment</a>
<a id="8501" href="Cost.Model.html#8450" class="Function">createMap</a> <a id="8511" href="Cost.Model.html#8511" class="Bound">bmap</a> <a id="8516" class="Symbol">=</a>
      <a id="8524" class="Keyword">let</a> <a id="8528" href="Cost.Model.html#8528" class="Bound">modelMaybeList</a> <a id="8543" class="Symbol">=</a> <a id="8545" href="Data.List.Base.html#1553" class="Function">L.map</a> <a id="8551" class="Symbol">(λ</a> <a id="8554" href="Cost.Model.html#8554" class="Bound">b</a> <a id="8556" class="Symbol">→</a> <a id="8558" href="Cost.Model.html#7141" class="Function">getModel</a> <a id="8567" href="Cost.Model.html#8554" class="Bound">b</a> <a id="8569" href="Cost.Model.html#8511" class="Bound">bmap</a><a id="8573" class="Symbol">)</a> <a id="8575" href="Builtin.html#26870" class="Function">builtinList</a>
          <a id="8597" href="Cost.Model.html#8597" class="Bound">maybeModelList</a> <a id="8612" class="Symbol">=</a> <a id="8614" href="Cost.Model.html#8156" class="Function">allJust</a> <a id="8622" href="Cost.Model.html#8528" class="Bound">modelMaybeList</a>
      <a id="8643" class="Keyword">in</a> <a id="8646" href="Cost.Model.html#287" class="Function">mapMaybe</a> <a id="8655" href="Cost.Model.html#7771" class="Function">lookupModel</a> <a id="8667" href="Cost.Model.html#8597" class="Bound">maybeModelList</a>
</pre>