<pre class="Agda"><a id="5" class="Keyword">module</a> <a id="12" href="Algorithmic.html" class="Module">Algorithmic</a> <a id="24" class="Keyword">where</a>
</pre>
## Imports

<pre class="Agda"><a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="101" class="Keyword">using</a> <a id="107" class="Symbol">(</a><a id="108" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="111" class="Symbol">;</a><a id="112" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="116" class="Symbol">;</a><a id="117" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a><a id="120" class="Symbol">;</a><a id="121" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a><a id="126" class="Symbol">;</a><a id="127" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a><a id="131" class="Symbol">;</a><a id="132" href="Relation.Binary.PropositionalEquality.Core.html#1376" class="Function">cong₂</a><a id="137" class="Symbol">;</a><a id="138" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a><a id="143" class="Symbol">)</a>

<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="169" class="Keyword">using</a> <a id="175" class="Symbol">(</a><a id="176" href="Data.Empty.html#535" class="Datatype">⊥</a><a id="177" class="Symbol">)</a>
<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="200" class="Keyword">using</a> <a id="206" class="Symbol">(</a><a id="207" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a><a id="210" class="Symbol">)</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Data.Product.html" class="Module">Data.Product</a> <a id="237" class="Keyword">using</a> <a id="243" class="Symbol">(</a><a id="244" href="Data.Product.html#1176" class="Function Operator">_×_</a><a id="247" class="Symbol">)</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="270" class="Symbol">as</a> <a id="273" class="Module">Vec</a> <a id="277" class="Keyword">using</a> <a id="283" class="Symbol">(</a><a id="284" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a><a id="287" class="Symbol">;</a><a id="288" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="290" class="Symbol">;</a><a id="291" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">_∷_</a><a id="294" class="Symbol">;</a><a id="295" href="Data.Vec.Base.html#1614" class="Function">lookup</a><a id="301" class="Symbol">)</a> 
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="337" class="Keyword">using</a> <a id="343" class="Symbol">(</a><a id="344" href="Data.List.Properties.html#16289" class="Function">foldr-++</a><a id="352" class="Symbol">)</a>

<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Utils.html" class="Module">Utils</a> <a id="373" class="Keyword">renaming</a> <a id="382" class="Symbol">(</a><a id="383" href="Utils.html#4708" class="Record Operator">_×_</a> <a id="387" class="Symbol">to</a> <a id="390" class="Record Operator">_U×_</a><a id="394" class="Symbol">;</a> <a id="396" href="Utils.html#4949" class="Datatype">List</a> <a id="401" class="Symbol">to</a> <a id="404" class="Datatype">UList</a><a id="409" class="Symbol">;</a> <a id="411" href="Utils.html#5097" class="Function">map</a> <a id="415" class="Symbol">to</a> <a id="418" class="Function">umap</a><a id="422" class="Symbol">)</a>
<a id="424" class="Keyword">open</a> <a id="429" class="Keyword">import</a> <a id="436" href="Utils.List.html" class="Module">Utils.List</a> <a id="447" class="Keyword">using</a> <a id="453" class="Symbol">(</a><a id="454" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="458" class="Symbol">;</a><a id="459" href="Data.List.Base.html#1819" class="Function Operator">_++_</a><a id="463" class="Symbol">;</a><a id="464" href="Data.List.Base.html#4201" class="Function">foldr</a><a id="469" class="Symbol">;</a><a id="470" href="Utils.List.html#3838" class="Datatype">IList</a><a id="475" class="Symbol">;</a><a id="476" href="Utils.List.html#741" class="InductiveConstructor">[]</a><a id="478" class="Symbol">;</a><a id="479" href="Utils.List.html#3908" class="InductiveConstructor Operator">_∷_</a><a id="482" class="Symbol">;</a><a id="483" href="Utils.List.html#713" class="Datatype">Bwd</a><a id="486" class="Symbol">;</a><a id="487" href="Utils.List.html#754" class="InductiveConstructor Operator">_:&lt;_</a><a id="491" class="Symbol">;</a><a id="492" href="Utils.List.html#887" class="Function">bwd-foldr</a><a id="501" class="Symbol">;</a><a id="502" href="Utils.List.html#2389" class="Function">lemma-bwd-foldr</a><a id="517" class="Symbol">;</a><a id="518" href="Utils.List.html#1342" class="Function Operator">_&lt;&gt;&lt;_</a><a id="523" class="Symbol">;</a><a id="524" href="Utils.List.html#1685" class="Function">lemma&lt;&gt;1</a><a id="532" class="Symbol">)</a>
<a id="534" class="Keyword">open</a> <a id="539" class="Keyword">import</a> <a id="546" href="Type.html" class="Module">Type</a> <a id="551" class="Keyword">using</a> <a id="557" class="Symbol">(</a><a id="558" href="Type.html#515" class="Datatype">Ctx⋆</a><a id="562" class="Symbol">;</a><a id="563" href="Type.html#534" class="InductiveConstructor">∅</a><a id="564" class="Symbol">;</a><a id="565" href="Type.html#545" class="InductiveConstructor Operator">_,⋆_</a><a id="569" class="Symbol">;</a><a id="570" href="Type.html#1704" class="Datatype Operator">_⊢⋆_</a><a id="574" class="Symbol">;</a><a id="575" href="Type.html#887" class="Datatype Operator">_∋⋆_</a><a id="579" class="Symbol">;</a><a id="580" href="Type.html#921" class="InductiveConstructor">Z</a><a id="581" class="Symbol">;</a><a id="582" href="Type.html#960" class="InductiveConstructor">S</a><a id="583" class="Symbol">;</a><a id="584" href="Type.html#635" class="Generalizable">Φ</a><a id="585" class="Symbol">)</a>
<a id="587" class="Keyword">open</a> <a id="592" href="Type.html#1704" class="Module Operator">_⊢⋆_</a>

<a id="598" class="Keyword">open</a> <a id="603" class="Keyword">import</a> <a id="610" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a> <a id="626" class="Keyword">using</a> <a id="632" class="Symbol">(</a><a id="633" href="Type.BetaNormal.html#1002" class="Datatype Operator">_⊢Nf⋆_</a><a id="639" class="Symbol">;</a><a id="640" href="Type.BetaNormal.html#1071" class="Datatype Operator">_⊢Ne⋆_</a><a id="646" class="Symbol">;</a><a id="647" href="Type.BetaNormal.html#2858" class="Function">weakenNf</a><a id="655" class="Symbol">;</a><a id="656" href="Type.BetaNormal.html#2049" class="Function">renNf</a><a id="661" class="Symbol">;</a><a id="662" href="Type.BetaNormal.html#2996" class="Function">embNf</a><a id="667" class="Symbol">)</a>
<a id="669" class="Keyword">open</a> <a id="674" href="Type.BetaNormal.html#1002" class="Module Operator">_⊢Nf⋆_</a>
<a id="681" class="Keyword">open</a> <a id="686" href="Type.BetaNormal.html#1071" class="Module Operator">_⊢Ne⋆_</a>

<a id="694" class="Keyword">import</a> <a id="701" href="Type.RenamingSubstitution.html" class="Module">Type.RenamingSubstitution</a> <a id="727" class="Symbol">as</a> <a id="730" class="Module">⋆</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="Type.BetaNBE.html" class="Module">Type.BetaNBE</a> <a id="757" class="Keyword">using</a> <a id="763" class="Symbol">(</a><a id="764" href="Type.BetaNBE.html#4422" class="Function">nf</a><a id="766" class="Symbol">)</a>
<a id="768" class="Keyword">open</a> <a id="773" class="Keyword">import</a> <a id="780" href="Type.BetaNBE.RenamingSubstitution.html" class="Module">Type.BetaNBE.RenamingSubstitution</a> <a id="814" class="Keyword">using</a> <a id="820" class="Symbol">(</a><a id="821" href="Type.BetaNBE.RenamingSubstitution.html#13642" class="Function">subNf∅</a><a id="827" class="Symbol">)</a> <a id="829" class="Keyword">renaming</a> <a id="838" class="Symbol">(</a><a id="839" href="Type.BetaNBE.RenamingSubstitution.html#5643" class="Function Operator">_[_]Nf</a> <a id="846" class="Symbol">to</a> <a id="849" class="Function Operator">_[_]</a><a id="853" class="Symbol">)</a>

<a id="856" class="Keyword">open</a> <a id="861" class="Keyword">import</a> <a id="868" href="Builtin.html" class="Module">Builtin</a> <a id="876" class="Keyword">using</a> <a id="882" class="Symbol">(</a><a id="883" href="Builtin.html#1212" class="Datatype">Builtin</a><a id="890" class="Symbol">)</a>

<a id="893" class="Keyword">open</a> <a id="898" class="Keyword">import</a> <a id="905" href="Builtin.Constant.Type.html" class="Module">Builtin.Constant.Type</a> <a id="927" class="Keyword">using</a> <a id="933" class="Symbol">(</a><a id="934" href="Builtin.Constant.Type.html#858" class="Datatype">TyCon</a><a id="939" class="Symbol">)</a>
<a id="941" class="Keyword">open</a> <a id="946" href="Builtin.Constant.Type.html#858" class="Module">TyCon</a>
<a id="952" class="Keyword">open</a> <a id="957" class="Keyword">import</a> <a id="964" href="Builtin.Constant.AtomicType.html" class="Module">Builtin.Constant.AtomicType</a> <a id="992" class="Keyword">using</a> <a id="998" class="Symbol">(</a><a id="999" href="Builtin.Constant.AtomicType.html#1335" class="Function Operator">⟦_⟧at</a><a id="1004" class="Symbol">)</a>

<a id="1007" class="Keyword">open</a> <a id="1012" class="Keyword">import</a> <a id="1019" href="Builtin.Signature.html" class="Module">Builtin.Signature</a> <a id="1037" class="Keyword">using</a> <a id="1043" class="Symbol">(</a><a id="1044" href="Builtin.Signature.html#1830" class="Datatype Operator">_⊢♯</a><a id="1047" class="Symbol">)</a>
<a id="1049" class="Keyword">open</a> <a id="1054" href="Builtin.Signature.html#1830" class="Module Operator">_⊢♯</a>

<a id="1059" class="Keyword">open</a> <a id="1064" class="Keyword">import</a> <a id="1071" href="Algorithmic.Signature.html" class="Module">Algorithmic.Signature</a> <a id="1093" class="Keyword">using</a> <a id="1099" class="Symbol">(</a><a id="1100" href="Algorithmic.Signature.html#1129" class="Function">btype</a><a id="1105" class="Symbol">;</a><a id="1106" href="Builtin.Signature.html#6461" class="Function">⊢♯2TyNe♯</a><a id="1114" class="Symbol">)</a>
</pre>
## Fixity declarations

To begin, we get all our infix declarations out of the way.
We list separately operators for judgements, types, and terms.
<pre class="Agda"><a id="1272" class="Keyword">infix</a>  <a id="1279" class="Number">4</a> <a id="1281" href="Algorithmic.html#2059" class="Datatype Operator">_∋_</a>
<a id="1285" class="Keyword">infix</a>  <a id="1292" class="Number">4</a> <a id="1294" href="Algorithmic.html#5258" class="Datatype Operator">_⊢_</a>
<a id="1298" class="Keyword">infixl</a> <a id="1305" class="Number">5</a> <a id="1307" href="Algorithmic.html#1686" class="InductiveConstructor Operator">_,_</a>
</pre>
## Contexts and erasure

We need to mutually define contexts and their
erasure to type contexts.
<pre class="Agda"><a id="1417" class="Comment">--data Ctx : Set</a>
<a id="1434" class="Comment">--∥_∥ : Ctx → Ctx⋆</a>
</pre>
A context is either empty, or extends a context by
a type variable of a given kind, or extends a context
by a variable of a given type.
<pre class="Agda"><a id="1598" class="Keyword">data</a> <a id="Ctx"></a><a id="1603" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="1607" class="Symbol">:</a> <a id="1609" href="Type.html#515" class="Datatype">Ctx⋆</a> <a id="1614" class="Symbol">→</a> <a id="1616" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1620" class="Keyword">where</a>
  <a id="Ctx.∅"></a><a id="1628" href="Algorithmic.html#1628" class="InductiveConstructor">∅</a>    <a id="1633" class="Symbol">:</a> <a id="1635" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="1639" href="Type.html#534" class="InductiveConstructor">∅</a>
  <a id="Ctx._,⋆_"></a><a id="1643" href="Algorithmic.html#1643" class="InductiveConstructor Operator">_,⋆_</a> <a id="1648" class="Symbol">:</a> <a id="1650" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="1654" href="Type.html#635" class="Generalizable">Φ</a> <a id="1656" class="Symbol">→</a> <a id="1658" class="Symbol">(</a><a id="1659" href="Algorithmic.html#1659" class="Bound">J</a> <a id="1661" class="Symbol">:</a> <a id="1663" href="Utils.html#6768" class="Datatype">Kind</a><a id="1667" class="Symbol">)</a> <a id="1669" class="Symbol">→</a> <a id="1671" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="1675" class="Symbol">(</a><a id="1676" href="Type.html#635" class="Generalizable">Φ</a> <a id="1678" href="Type.html#545" class="InductiveConstructor Operator">,⋆</a> <a id="1681" href="Algorithmic.html#1659" class="Bound">J</a><a id="1682" class="Symbol">)</a>
  <a id="Ctx._,_"></a><a id="1686" href="Algorithmic.html#1686" class="InductiveConstructor Operator">_,_</a>  <a id="1691" class="Symbol">:</a> <a id="1693" class="Symbol">(</a><a id="1694" href="Algorithmic.html#1694" class="Bound">Γ</a> <a id="1696" class="Symbol">:</a> <a id="1698" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="1702" href="Type.html#635" class="Generalizable">Φ</a><a id="1703" class="Symbol">)</a> <a id="1705" class="Symbol">→</a> <a id="1707" href="Type.html#635" class="Generalizable">Φ</a> <a id="1709" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="1714" href="Utils.html#6787" class="InductiveConstructor">*</a> <a id="1716" class="Symbol">→</a> <a id="1718" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="1722" href="Type.html#635" class="Generalizable">Φ</a>
</pre>Let `Γ` range over contexts.  In the last rule,
the type is indexed by the erasure of the previous
context to a type context and a kind.

The erasure of a context is a type context.
<pre class="Agda"><a id="1914" class="Comment">--∥ ∅ ∥       =  ∅</a>
<a id="1933" class="Comment">--∥ Γ ,⋆ J ∥  =  ∥ Γ ∥ ,⋆ J</a>
<a id="1961" class="Comment">--∥ Γ , A ∥   =  ∥ Γ ∥</a>
</pre>
## Variables

A variable is indexed by its context and type.
<pre class="Agda"><a id="2054" class="Keyword">data</a> <a id="_∋_"></a><a id="2059" href="Algorithmic.html#2059" class="Datatype Operator">_∋_</a> <a id="2063" class="Symbol">:</a> <a id="2065" class="Symbol">(</a><a id="2066" href="Algorithmic.html#2066" class="Bound">Γ</a> <a id="2068" class="Symbol">:</a> <a id="2070" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="2074" href="Type.html#635" class="Generalizable">Φ</a><a id="2075" class="Symbol">)</a> <a id="2077" class="Symbol">→</a> <a id="2079" href="Type.html#635" class="Generalizable">Φ</a> <a id="2081" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="2086" href="Utils.html#6787" class="InductiveConstructor">*</a> <a id="2088" class="Symbol">→</a> <a id="2090" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2094" class="Keyword">where</a>

  <a id="_∋_.Z"></a><a id="2103" href="Algorithmic.html#2103" class="InductiveConstructor">Z</a> <a id="2105" class="Symbol">:</a> <a id="2107" class="Symbol">∀</a> <a id="2109" class="Symbol">{</a><a id="2110" href="Algorithmic.html#2110" class="Bound">Γ</a><a id="2111" class="Symbol">}</a> <a id="2113" class="Symbol">{</a><a id="2114" href="Algorithmic.html#2114" class="Bound">A</a> <a id="2116" class="Symbol">:</a> <a id="2118" href="Type.html#635" class="Generalizable">Φ</a> <a id="2120" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="2125" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="2126" class="Symbol">}</a>
      <a id="2134" class="Comment">----------</a>
    <a id="2149" class="Symbol">→</a> <a id="2151" href="Algorithmic.html#2110" class="Bound">Γ</a> <a id="2153" href="Algorithmic.html#1686" class="InductiveConstructor Operator">,</a> <a id="2155" href="Algorithmic.html#2114" class="Bound">A</a> <a id="2157" href="Algorithmic.html#2059" class="Datatype Operator">∋</a> <a id="2159" href="Algorithmic.html#2114" class="Bound">A</a>

  <a id="_∋_.S"></a><a id="2164" href="Algorithmic.html#2164" class="InductiveConstructor">S</a> <a id="2166" class="Symbol">:</a> <a id="2168" class="Symbol">∀</a> <a id="2170" class="Symbol">{</a><a id="2171" href="Algorithmic.html#2171" class="Bound">Γ</a><a id="2172" class="Symbol">}</a> <a id="2174" class="Symbol">{</a><a id="2175" href="Algorithmic.html#2175" class="Bound">A</a> <a id="2177" class="Symbol">:</a> <a id="2179" href="Type.html#635" class="Generalizable">Φ</a> <a id="2181" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="2186" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="2187" class="Symbol">}</a> <a id="2189" class="Symbol">{</a><a id="2190" href="Algorithmic.html#2190" class="Bound">B</a> <a id="2192" class="Symbol">:</a> <a id="2194" href="Type.html#635" class="Generalizable">Φ</a> <a id="2196" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="2201" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="2202" class="Symbol">}</a>
    <a id="2208" class="Symbol">→</a> <a id="2210" href="Algorithmic.html#2171" class="Bound">Γ</a> <a id="2212" href="Algorithmic.html#2059" class="Datatype Operator">∋</a> <a id="2214" href="Algorithmic.html#2175" class="Bound">A</a>
      <a id="2222" class="Comment">----------</a>
    <a id="2237" class="Symbol">→</a> <a id="2239" href="Algorithmic.html#2171" class="Bound">Γ</a> <a id="2241" href="Algorithmic.html#1686" class="InductiveConstructor Operator">,</a> <a id="2243" href="Algorithmic.html#2190" class="Bound">B</a> <a id="2245" href="Algorithmic.html#2059" class="Datatype Operator">∋</a> <a id="2247" href="Algorithmic.html#2175" class="Bound">A</a>

  <a id="_∋_.T"></a><a id="2252" href="Algorithmic.html#2252" class="InductiveConstructor">T</a> <a id="2254" class="Symbol">:</a> <a id="2256" class="Symbol">∀</a> <a id="2258" class="Symbol">{</a><a id="2259" href="Algorithmic.html#2259" class="Bound">Γ</a> <a id="2261" href="Algorithmic.html#2261" class="Bound">K</a><a id="2262" class="Symbol">}{</a><a id="2264" href="Algorithmic.html#2264" class="Bound">A</a> <a id="2266" class="Symbol">:</a> <a id="2268" href="Type.html#635" class="Generalizable">Φ</a> <a id="2270" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="2275" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="2276" class="Symbol">}</a>
    <a id="2282" class="Symbol">→</a> <a id="2284" href="Algorithmic.html#2259" class="Bound">Γ</a> <a id="2286" href="Algorithmic.html#2059" class="Datatype Operator">∋</a> <a id="2288" href="Algorithmic.html#2264" class="Bound">A</a>
      <a id="2296" class="Comment">-------------------</a>
    <a id="2320" class="Symbol">→</a> <a id="2322" href="Algorithmic.html#2259" class="Bound">Γ</a> <a id="2324" href="Algorithmic.html#1643" class="InductiveConstructor Operator">,⋆</a> <a id="2327" href="Algorithmic.html#2261" class="Bound">K</a> <a id="2329" href="Algorithmic.html#2059" class="Datatype Operator">∋</a> <a id="2331" href="Type.BetaNormal.html#2858" class="Function">weakenNf</a> <a id="2340" href="Algorithmic.html#2264" class="Bound">A</a>
</pre>          
## Semantic of constant terms

We define a predicate ♯Kinded for kinds that ultimately end in ♯.

<pre class="Agda"><a id="2459" class="Keyword">data</a> <a id="♯Kinded"></a><a id="2464" href="Algorithmic.html#2464" class="Datatype">♯Kinded</a> <a id="2472" class="Symbol">:</a> <a id="2474" href="Utils.html#6768" class="Datatype">Kind</a> <a id="2479" class="Symbol">→</a> <a id="2481" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2485" class="Keyword">where</a>
   <a id="♯Kinded.♯"></a><a id="2494" href="Algorithmic.html#2494" class="InductiveConstructor">♯</a> <a id="2496" class="Symbol">:</a> <a id="2498" href="Algorithmic.html#2464" class="Datatype">♯Kinded</a> <a id="2506" href="Utils.html#6822" class="InductiveConstructor">♯</a>
   <a id="♯Kinded.K♯"></a><a id="2511" href="Algorithmic.html#2511" class="InductiveConstructor">K♯</a> <a id="2514" class="Symbol">:</a> <a id="2516" class="Symbol">∀{</a><a id="2518" href="Algorithmic.html#2518" class="Bound">K</a> <a id="2520" href="Algorithmic.html#2520" class="Bound">J</a><a id="2521" class="Symbol">}</a> <a id="2523" class="Symbol">→</a> <a id="2525" href="Algorithmic.html#2464" class="Datatype">♯Kinded</a> <a id="2533" href="Algorithmic.html#2520" class="Bound">J</a> <a id="2535" class="Symbol">→</a> <a id="2537" href="Algorithmic.html#2464" class="Datatype">♯Kinded</a> <a id="2545" class="Symbol">(</a><a id="2546" href="Algorithmic.html#2518" class="Bound">K</a> <a id="2548" href="Utils.html#6860" class="InductiveConstructor Operator">⇒</a> <a id="2550" href="Algorithmic.html#2520" class="Bound">J</a><a id="2551" class="Symbol">)</a>
</pre>
There is no type of a ♯Kinded kind which takes more than two type arguments. 

<pre class="Agda"><a id="lemma♯Kinded"></a><a id="2641" href="Algorithmic.html#2641" class="Function">lemma♯Kinded</a> <a id="2654" class="Symbol">:</a> <a id="2656" class="Symbol">∀</a> <a id="2658" class="Symbol">{</a><a id="2659" href="Algorithmic.html#2659" class="Bound">K</a> <a id="2661" href="Algorithmic.html#2661" class="Bound">K₁</a> <a id="2664" href="Algorithmic.html#2664" class="Bound">K₂</a> <a id="2667" href="Algorithmic.html#2667" class="Bound">J</a><a id="2668" class="Symbol">}</a> <a id="2670" class="Symbol">→</a> <a id="2672" href="Algorithmic.html#2464" class="Datatype">♯Kinded</a> <a id="2680" href="Algorithmic.html#2667" class="Bound">J</a> <a id="2682" class="Symbol">→</a> <a id="2684" class="InductiveConstructor">∅</a> <a id="2686" href="Type.BetaNormal.html#1071" class="Datatype Operator">⊢Ne⋆</a> <a id="2691" class="Symbol">(</a><a id="2692" href="Algorithmic.html#2664" class="Bound">K₂</a> <a id="2695" class="InductiveConstructor Operator">⇒</a> <a id="2697" class="Symbol">(</a><a id="2698" href="Algorithmic.html#2661" class="Bound">K₁</a> <a id="2701" class="InductiveConstructor Operator">⇒</a> <a id="2703" class="Symbol">(</a><a id="2704" href="Algorithmic.html#2659" class="Bound">K</a> <a id="2706" class="InductiveConstructor Operator">⇒</a> <a id="2708" href="Algorithmic.html#2667" class="Bound">J</a><a id="2709" class="Symbol">)))</a> <a id="2713" class="Symbol">→</a> <a id="2715" href="Data.Empty.html#535" class="Datatype">⊥</a>
<a id="2717" href="Algorithmic.html#2641" class="Function">lemma♯Kinded</a> <a id="2730" href="Algorithmic.html#2730" class="Bound">k</a> <a id="2732" class="Symbol">(</a><a id="2733" href="Algorithmic.html#2733" class="Bound">f</a> <a id="2735" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="2737" class="Symbol">_)</a> <a id="2740" class="Symbol">=</a> <a id="2742" href="Algorithmic.html#2641" class="Function">lemma♯Kinded</a> <a id="2755" class="Symbol">(</a><a id="2756" href="Algorithmic.html#2511" class="InductiveConstructor">K♯</a> <a id="2759" href="Algorithmic.html#2730" class="Bound">k</a><a id="2760" class="Symbol">)</a> <a id="2762" href="Algorithmic.html#2733" class="Bound">f</a>
</pre>
Closed types can be mapped into the signature universe and viceversa.

<pre class="Agda"><a id="ty2sty"></a><a id="2844" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="2851" class="Symbol">:</a> <a id="2853" class="InductiveConstructor">∅</a> <a id="2855" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="2860" class="InductiveConstructor">♯</a> <a id="2862" class="Symbol">→</a> <a id="2864" class="Number">0</a> <a id="2866" href="Builtin.Signature.html#1830" class="Datatype Operator">⊢♯</a>
<a id="2869" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="2876" class="Symbol">(</a><a id="2877" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="2880" class="Symbol">(((</a><a id="2883" href="Algorithmic.html#2883" class="Bound">f</a> <a id="2885" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="2887" class="Symbol">_)</a> <a id="2890" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="2892" class="Symbol">_)</a> <a id="2895" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="2897" class="Symbol">_))</a> <a id="2901" class="Keyword">with</a> <a id="2906" href="Algorithmic.html#2641" class="Function">lemma♯Kinded</a> <a id="2919" href="Algorithmic.html#2494" class="InductiveConstructor">♯</a> <a id="2921" href="Algorithmic.html#2883" class="Bound">f</a> 
<a id="2924" class="Symbol">...</a> <a id="2928" class="Symbol">|</a> <a id="2930" class="Symbol">()</a>
<a id="2933" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="2940" class="Symbol">(</a><a id="2941" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="2944" class="Symbol">((</a><a id="2946" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="2948" href="Builtin.Constant.Type.html#951" class="InductiveConstructor">pair</a> <a id="2953" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="2955" href="Algorithmic.html#2955" class="Bound">x</a><a id="2956" class="Symbol">)</a> <a id="2958" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="2960" href="Algorithmic.html#2960" class="Bound">y</a><a id="2961" class="Symbol">))</a> <a id="2964" class="Symbol">=</a> <a id="2966" href="Builtin.Signature.html#2145" class="InductiveConstructor">pair</a> <a id="2971" class="Symbol">(</a><a id="2972" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="2979" href="Algorithmic.html#2955" class="Bound">x</a><a id="2980" class="Symbol">)</a> <a id="2982" class="Symbol">(</a><a id="2983" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="2990" href="Algorithmic.html#2960" class="Bound">y</a><a id="2991" class="Symbol">)</a>
<a id="2993" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="3000" class="Symbol">(</a><a id="3001" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3004" class="Symbol">(</a><a id="3005" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3007" href="Builtin.Constant.Type.html#922" class="InductiveConstructor">list</a> <a id="3012" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3014" href="Algorithmic.html#3014" class="Bound">x</a><a id="3015" class="Symbol">))</a> <a id="3018" class="Symbol">=</a> <a id="3020" href="Builtin.Signature.html#2084" class="InductiveConstructor">list</a> <a id="3025" class="Symbol">(</a><a id="3026" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="3033" href="Algorithmic.html#3014" class="Bound">x</a><a id="3034" class="Symbol">)</a>
<a id="3036" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="3043" class="Symbol">(</a><a id="3044" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3047" class="Symbol">(</a><a id="3048" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3050" class="Symbol">(</a><a id="3051" href="Builtin.Constant.Type.html#885" class="InductiveConstructor">atomic</a> <a id="3058" href="Algorithmic.html#3058" class="Bound">x</a><a id="3059" class="Symbol">)))</a> <a id="3063" class="Symbol">=</a> <a id="3065" href="Builtin.Signature.html#1953" class="InductiveConstructor">atomic</a> <a id="3072" href="Algorithmic.html#3058" class="Bound">x</a>

<a id="sty2ty"></a><a id="3075" href="Algorithmic.html#3075" class="Function">sty2ty</a> <a id="3082" class="Symbol">:</a> <a id="3084" class="Number">0</a> <a id="3086" href="Builtin.Signature.html#1830" class="Datatype Operator">⊢♯</a> <a id="3089" class="Symbol">→</a> <a id="3091" class="InductiveConstructor">∅</a> <a id="3093" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="3098" class="InductiveConstructor">♯</a>
<a id="3100" href="Algorithmic.html#3075" class="Function">sty2ty</a> <a id="3107" href="Algorithmic.html#3107" class="Bound">t</a> <a id="3109" class="Symbol">=</a> <a id="3111" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3114" class="Symbol">(</a><a id="3115" href="Builtin.Signature.html#6461" class="Function">⊢♯2TyNe♯</a> <a id="3124" href="Algorithmic.html#3107" class="Bound">t</a><a id="3125" class="Symbol">)</a>
</pre>
Now we have functions `ty2sty` and `sty2ty`. We prove that they are inverses, and therefore
define an isomorphism.

<pre class="Agda"><a id="ty≅sty₁"></a><a id="3252" href="Algorithmic.html#3252" class="Function">ty≅sty₁</a> <a id="3260" class="Symbol">:</a> <a id="3262" class="Symbol">∀</a> <a id="3264" class="Symbol">(</a><a id="3265" href="Algorithmic.html#3265" class="Bound">A</a> <a id="3267" class="Symbol">:</a> <a id="3269" class="InductiveConstructor">∅</a> <a id="3271" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="3276" class="InductiveConstructor">♯</a><a id="3277" class="Symbol">)</a> <a id="3279" class="Symbol">→</a> <a id="3281" href="Algorithmic.html#3265" class="Bound">A</a> <a id="3283" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3285" href="Algorithmic.html#3075" class="Function">sty2ty</a> <a id="3292" class="Symbol">(</a><a id="3293" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="3300" href="Algorithmic.html#3265" class="Bound">A</a><a id="3301" class="Symbol">)</a>
<a id="3303" href="Algorithmic.html#3252" class="Function">ty≅sty₁</a> <a id="3311" class="Symbol">(</a><a id="3312" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3315" class="Symbol">(((</a><a id="3318" href="Algorithmic.html#3318" class="Bound">f</a> <a id="3320" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3322" class="Symbol">_)</a> <a id="3325" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3327" class="Symbol">_)</a> <a id="3330" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3332" class="Symbol">_))</a> <a id="3336" class="Keyword">with</a>  <a id="3342" href="Algorithmic.html#2641" class="Function">lemma♯Kinded</a> <a id="3355" href="Algorithmic.html#2494" class="InductiveConstructor">♯</a> <a id="3357" href="Algorithmic.html#3318" class="Bound">f</a>
<a id="3359" class="Symbol">...</a> <a id="3363" class="Symbol">|</a> <a id="3365" class="Symbol">()</a>
<a id="3368" href="Algorithmic.html#3252" class="Function">ty≅sty₁</a> <a id="3376" class="Symbol">(</a><a id="3377" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3380" class="Symbol">((</a><a id="3382" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3384" href="Builtin.Constant.Type.html#951" class="InductiveConstructor">pair</a> <a id="3389" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3391" href="Algorithmic.html#3391" class="Bound">x</a><a id="3392" class="Symbol">)</a> <a id="3394" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3396" href="Algorithmic.html#3396" class="Bound">y</a><a id="3397" class="Symbol">))</a>  <a id="3401" class="Symbol">=</a> <a id="3403" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3408" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3411" class="Symbol">(</a><a id="3412" href="Relation.Binary.PropositionalEquality.Core.html#1376" class="Function">cong₂</a> <a id="3418" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">_·_</a> <a id="3422" class="Symbol">(</a><a id="3423" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3428" class="Symbol">(</a><a id="3429" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3431" href="Builtin.Constant.Type.html#951" class="InductiveConstructor">pair</a> <a id="3436" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·_</a><a id="3438" class="Symbol">)</a> <a id="3440" class="Symbol">(</a><a id="3441" href="Algorithmic.html#3252" class="Function">ty≅sty₁</a> <a id="3449" href="Algorithmic.html#3391" class="Bound">x</a><a id="3450" class="Symbol">))</a> <a id="3453" class="Symbol">(</a><a id="3454" href="Algorithmic.html#3252" class="Function">ty≅sty₁</a> <a id="3462" href="Algorithmic.html#3396" class="Bound">y</a><a id="3463" class="Symbol">))</a>
<a id="3466" href="Algorithmic.html#3252" class="Function">ty≅sty₁</a> <a id="3474" class="Symbol">(</a><a id="3475" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3478" class="Symbol">(</a><a id="3479" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3481" href="Builtin.Constant.Type.html#922" class="InductiveConstructor">list</a> <a id="3486" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3488" href="Algorithmic.html#3488" class="Bound">x</a><a id="3489" class="Symbol">))</a>        <a id="3499" class="Symbol">=</a> <a id="3501" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3506" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3509" class="Symbol">(</a><a id="3510" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3515" class="Symbol">(</a><a id="3516" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3518" href="Builtin.Constant.Type.html#922" class="InductiveConstructor">list</a> <a id="3523" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·_</a><a id="3525" class="Symbol">)</a> <a id="3527" class="Symbol">(</a><a id="3528" href="Algorithmic.html#3252" class="Function">ty≅sty₁</a> <a id="3536" href="Algorithmic.html#3488" class="Bound">x</a><a id="3537" class="Symbol">))</a> 
<a id="3541" href="Algorithmic.html#3252" class="Function">ty≅sty₁</a> <a id="3549" class="Symbol">(</a><a id="3550" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3553" class="Symbol">(</a><a id="3554" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3556" class="Symbol">(</a><a id="3557" href="Builtin.Constant.Type.html#885" class="InductiveConstructor">atomic</a> <a id="3564" href="Algorithmic.html#3564" class="Bound">x</a><a id="3565" class="Symbol">)))</a>      <a id="3574" class="Symbol">=</a> <a id="3576" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="ty≅sty₂"></a><a id="3582" href="Algorithmic.html#3582" class="Function">ty≅sty₂</a> <a id="3590" class="Symbol">:</a> <a id="3592" class="Symbol">∀</a> <a id="3594" class="Symbol">(</a><a id="3595" href="Algorithmic.html#3595" class="Bound">A</a> <a id="3597" class="Symbol">:</a> <a id="3599" class="Number">0</a> <a id="3601" href="Builtin.Signature.html#1830" class="Datatype Operator">⊢♯</a><a id="3603" class="Symbol">)</a> <a id="3605" class="Symbol">→</a>  <a id="3608" href="Algorithmic.html#3595" class="Bound">A</a> <a id="3610" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3612" href="Algorithmic.html#2844" class="Function">ty2sty</a> <a id="3619" class="Symbol">(</a><a id="3620" href="Algorithmic.html#3075" class="Function">sty2ty</a> <a id="3627" href="Algorithmic.html#3595" class="Bound">A</a><a id="3628" class="Symbol">)</a>
<a id="3630" href="Algorithmic.html#3582" class="Function">ty≅sty₂</a> <a id="3638" class="Symbol">(</a><a id="3639" href="Builtin.Signature.html#1953" class="InductiveConstructor">atomic</a> <a id="3646" href="Algorithmic.html#3646" class="Bound">x</a><a id="3647" class="Symbol">)</a> <a id="3649" class="Symbol">=</a> <a id="3651" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3656" href="Algorithmic.html#3582" class="Function">ty≅sty₂</a> <a id="3664" class="Symbol">(</a><a id="3665" href="Builtin.Signature.html#2084" class="InductiveConstructor">list</a> <a id="3670" href="Algorithmic.html#3670" class="Bound">A</a><a id="3671" class="Symbol">)</a> <a id="3673" class="Symbol">=</a> <a id="3675" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3680" href="Builtin.Signature.html#2084" class="InductiveConstructor">list</a> <a id="3685" class="Symbol">(</a><a id="3686" href="Algorithmic.html#3582" class="Function">ty≅sty₂</a> <a id="3694" href="Algorithmic.html#3670" class="Bound">A</a><a id="3695" class="Symbol">)</a>
<a id="3697" href="Algorithmic.html#3582" class="Function">ty≅sty₂</a> <a id="3705" class="Symbol">(</a><a id="3706" href="Builtin.Signature.html#2145" class="InductiveConstructor">pair</a> <a id="3711" href="Algorithmic.html#3711" class="Bound">A</a> <a id="3713" href="Algorithmic.html#3713" class="Bound">B</a><a id="3714" class="Symbol">)</a> <a id="3716" class="Symbol">=</a> <a id="3718" href="Relation.Binary.PropositionalEquality.Core.html#1376" class="Function">cong₂</a> <a id="3724" href="Builtin.Signature.html#2145" class="InductiveConstructor">pair</a> <a id="3729" class="Symbol">(</a><a id="3730" href="Algorithmic.html#3582" class="Function">ty≅sty₂</a> <a id="3738" href="Algorithmic.html#3711" class="Bound">A</a><a id="3739" class="Symbol">)</a> <a id="3741" class="Symbol">(</a><a id="3742" href="Algorithmic.html#3582" class="Function">ty≅sty₂</a> <a id="3750" href="Algorithmic.html#3713" class="Bound">B</a><a id="3751" class="Symbol">)</a>
</pre>
The semantics of closed types of kind ♯ is given by the following 
interpretation function

<pre class="Agda"><a id="⟦_⟧"></a><a id="3854" href="Algorithmic.html#3854" class="Function Operator">⟦_⟧</a> <a id="3858" class="Symbol">:</a> <a id="3860" class="Symbol">(</a><a id="3861" href="Algorithmic.html#3861" class="Bound">ty</a> <a id="3864" class="Symbol">:</a> <a id="3866" class="InductiveConstructor">∅</a> <a id="3868" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="3873" class="InductiveConstructor">♯</a><a id="3874" class="Symbol">)</a> <a id="3876" class="Symbol">→</a> <a id="3878" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="3882" href="Algorithmic.html#3854" class="Function Operator">⟦</a> <a id="3884" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3887" class="Symbol">(((</a><a id="3890" href="Algorithmic.html#3890" class="Bound">f</a> <a id="3892" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3894" class="Symbol">_)</a> <a id="3897" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3899" class="Symbol">_)</a> <a id="3902" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3904" class="Symbol">_)</a> <a id="3907" href="Algorithmic.html#3854" class="Function Operator">⟧</a> <a id="3909" class="Keyword">with</a> <a id="3914" href="Algorithmic.html#2641" class="Function">lemma♯Kinded</a> <a id="3927" href="Algorithmic.html#2494" class="InductiveConstructor">♯</a> <a id="3929" href="Algorithmic.html#3890" class="Bound">f</a> 
<a id="3932" class="Symbol">...</a> <a id="3936" class="Symbol">|</a> <a id="3938" class="Symbol">()</a>
<a id="3941" href="Algorithmic.html#3854" class="Function Operator">⟦</a> <a id="3943" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3946" class="Symbol">((</a><a id="3948" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3950" href="Builtin.Constant.Type.html#951" class="InductiveConstructor">pair</a> <a id="3955" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3957" href="Algorithmic.html#3957" class="Bound">x</a><a id="3958" class="Symbol">)</a> <a id="3960" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3962" href="Algorithmic.html#3962" class="Bound">y</a><a id="3963" class="Symbol">)</a> <a id="3965" href="Algorithmic.html#3854" class="Function Operator">⟧</a> <a id="3967" class="Symbol">=</a> <a id="3969" href="Algorithmic.html#3854" class="Function Operator">⟦</a> <a id="3971" href="Algorithmic.html#3957" class="Bound">x</a> <a id="3973" href="Algorithmic.html#3854" class="Function Operator">⟧</a> <a id="3975" href="Algorithmic.html#390" class="Record Operator">U×</a> <a id="3978" href="Algorithmic.html#3854" class="Function Operator">⟦</a> <a id="3980" href="Algorithmic.html#3962" class="Bound">y</a> <a id="3982" href="Algorithmic.html#3854" class="Function Operator">⟧</a>
<a id="3984" href="Algorithmic.html#3854" class="Function Operator">⟦</a> <a id="3986" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="3989" class="Symbol">(</a><a id="3990" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="3992" href="Builtin.Constant.Type.html#922" class="InductiveConstructor">list</a> <a id="3997" href="Type.BetaNormal.html#1150" class="InductiveConstructor Operator">·</a> <a id="3999" href="Algorithmic.html#3999" class="Bound">x</a><a id="4000" class="Symbol">)</a> <a id="4002" href="Algorithmic.html#3854" class="Function Operator">⟧</a> <a id="4004" class="Symbol">=</a> <a id="4006" href="Algorithmic.html#404" class="Datatype">UList</a> <a id="4012" href="Algorithmic.html#3854" class="Function Operator">⟦</a> <a id="4014" href="Algorithmic.html#3999" class="Bound">x</a> <a id="4016" href="Algorithmic.html#3854" class="Function Operator">⟧</a>
<a id="4018" href="Algorithmic.html#3854" class="Function Operator">⟦</a> <a id="4020" href="Type.BetaNormal.html#1458" class="InductiveConstructor">ne</a> <a id="4023" class="Symbol">(</a><a id="4024" href="Type.BetaNormal.html#1229" class="InductiveConstructor">^</a> <a id="4026" class="Symbol">(</a><a id="4027" href="Builtin.Constant.Type.html#885" class="InductiveConstructor">atomic</a> <a id="4034" href="Algorithmic.html#4034" class="Bound">x</a><a id="4035" class="Symbol">))</a> <a id="4038" href="Algorithmic.html#3854" class="Function Operator">⟧</a> <a id="4040" class="Symbol">=</a> <a id="4042" href="Builtin.Constant.AtomicType.html#1335" class="Function Operator">⟦</a> <a id="4044" href="Algorithmic.html#4034" class="Bound">x</a> <a id="4046" href="Builtin.Constant.AtomicType.html#1335" class="Function Operator">⟧at</a>
</pre>
All these types need to be able to be interfaced with Haskell, as this 
interpretation function is used everywhere of type or a type tag needs to be 
interpreted. It is precisely because they need to be interfaced with Haskell
that we use the version of product and list from the Utils module.

## Terms

A term is indexed over by its context and type.  A term is a variable,
an abstraction, an application, a type abstraction, a type
application, a wrapping or unwrapping of a recursive type, a constructor, 
a case expression, a constant, a builtin function, or an error.

Constants of a builtin type A are given directly by its meaning ⟦ A ⟧, where
A is restricted to kind ♯.

The type of cases if a function consuming every type in a list.
We construct it with the following function: 
<pre class="Agda"><a id="mkCaseType"></a><a id="4849" href="Algorithmic.html#4849" class="Function">mkCaseType</a> <a id="4860" class="Symbol">:</a> <a id="4862" class="Symbol">∀{</a><a id="4864" href="Algorithmic.html#4864" class="Bound">Φ</a><a id="4865" class="Symbol">}</a> <a id="4867" class="Symbol">(</a><a id="4868" href="Algorithmic.html#4868" class="Bound">A</a> <a id="4870" class="Symbol">:</a> <a id="4872" href="Algorithmic.html#4864" class="Bound">Φ</a> <a id="4874" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="4879" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="4880" class="Symbol">)</a> <a id="4882" class="Symbol">→</a> <a id="4884" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4889" class="Symbol">(</a><a id="4890" href="Algorithmic.html#4864" class="Bound">Φ</a> <a id="4892" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="4897" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="4898" class="Symbol">)</a> <a id="4900" class="Symbol">→</a> <a id="4902" href="Algorithmic.html#4864" class="Bound">Φ</a> <a id="4904" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="4909" href="Utils.html#6787" class="InductiveConstructor">*</a>
<a id="4911" href="Algorithmic.html#4849" class="Function">mkCaseType</a> <a id="4922" href="Algorithmic.html#4922" class="Bound">A</a> <a id="4924" class="Symbol">=</a> <a id="4926" href="Data.List.Base.html#4201" class="Function">foldr</a> <a id="4932" href="Type.BetaNormal.html#1331" class="InductiveConstructor Operator">_⇒_</a> <a id="4936" href="Algorithmic.html#4922" class="Bound">A</a>
</pre>
We declare two auxiliary datatypes, which are mutually recursive with the type of terms,
for constructor arguments and cases.

<pre class="Agda"><a id="ConstrArgs"></a><a id="5074" href="Algorithmic.html#5074" class="Function">ConstrArgs</a> <a id="5085" class="Symbol">:</a> <a id="5087" class="Symbol">(</a><a id="5088" href="Algorithmic.html#5088" class="Bound">Γ</a> <a id="5090" class="Symbol">:</a> <a id="5092" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="5096" href="Type.html#635" class="Generalizable">Φ</a><a id="5097" class="Symbol">)</a> <a id="5099" class="Symbol">→</a> <a id="5101" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5106" class="Symbol">(</a><a id="5107" href="Type.html#635" class="Generalizable">Φ</a> <a id="5109" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5114" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5115" class="Symbol">)</a> <a id="5117" class="Symbol">→</a> <a id="5119" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="5123" class="Keyword">data</a> <a id="Cases"></a><a id="5128" href="Algorithmic.html#5128" class="Datatype">Cases</a> <a id="5134" class="Symbol">(</a><a id="5135" href="Algorithmic.html#5135" class="Bound">Γ</a> <a id="5137" class="Symbol">:</a> <a id="5139" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="5143" href="Type.html#635" class="Generalizable">Φ</a><a id="5144" class="Symbol">)</a> <a id="5146" class="Symbol">(</a><a id="5147" href="Algorithmic.html#5147" class="Bound">B</a> <a id="5149" class="Symbol">:</a> <a id="5151" href="Type.html#635" class="Generalizable">Φ</a> <a id="5153" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5158" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5159" class="Symbol">)</a> <a id="5161" class="Symbol">:</a> <a id="5163" class="Symbol">∀{</a><a id="5165" href="Algorithmic.html#5165" class="Bound">n</a><a id="5166" class="Symbol">}</a> <a id="5168" class="Symbol">→</a> <a id="5170" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="5174" class="Symbol">(</a><a id="5175" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5180" class="Symbol">(</a><a id="5181" href="Algorithmic.html#5143" class="Bound">Φ</a> <a id="5183" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5188" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5189" class="Symbol">))</a> <a id="5192" href="Algorithmic.html#5165" class="Bound">n</a> <a id="5194" class="Symbol">→</a> <a id="5196" href="Agda.Primitive.html#388" class="Primitive">Set</a> 
</pre>
The actual type of terms

<pre class="Agda"><a id="5236" class="Keyword">infixl</a> <a id="5243" class="Number">7</a> <a id="5245" href="Algorithmic.html#5613" class="InductiveConstructor Operator">_·⋆_/_</a>

<a id="5253" class="Keyword">data</a> <a id="_⊢_"></a><a id="5258" href="Algorithmic.html#5258" class="Datatype Operator">_⊢_</a> <a id="5262" class="Symbol">(</a><a id="5263" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5265" class="Symbol">:</a> <a id="5267" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="5271" href="Type.html#635" class="Generalizable">Φ</a><a id="5272" class="Symbol">)</a> <a id="5274" class="Symbol">:</a> <a id="5276" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5278" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5283" href="Utils.html#6787" class="InductiveConstructor">*</a> <a id="5285" class="Symbol">→</a> <a id="5287" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5291" class="Keyword">where</a>
  <a id="_⊢_.`"></a><a id="5299" href="Algorithmic.html#5299" class="InductiveConstructor">`</a> <a id="5301" class="Symbol">:</a> <a id="5303" class="Symbol">∀</a> <a id="5305" class="Symbol">{</a><a id="5306" href="Algorithmic.html#5306" class="Bound">A</a> <a id="5308" class="Symbol">:</a> <a id="5310" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5312" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5317" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5318" class="Symbol">}</a>
    <a id="5324" class="Symbol">→</a> <a id="5326" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5328" href="Algorithmic.html#2059" class="Datatype Operator">∋</a> <a id="5330" href="Algorithmic.html#5306" class="Bound">A</a>
      <a id="5338" class="Comment">-----</a>
    <a id="5348" class="Symbol">→</a> <a id="5350" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5352" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5354" href="Algorithmic.html#5306" class="Bound">A</a>

  <a id="_⊢_.ƛ"></a><a id="5359" href="Algorithmic.html#5359" class="InductiveConstructor">ƛ</a> <a id="5361" class="Symbol">:</a> <a id="5363" class="Symbol">∀</a> <a id="5365" class="Symbol">{</a><a id="5366" href="Algorithmic.html#5366" class="Bound">A</a> <a id="5368" href="Algorithmic.html#5368" class="Bound">B</a> <a id="5370" class="Symbol">:</a> <a id="5372" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5374" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5379" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5380" class="Symbol">}</a>
    <a id="5386" class="Symbol">→</a> <a id="5388" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5390" href="Algorithmic.html#1686" class="InductiveConstructor Operator">,</a> <a id="5392" href="Algorithmic.html#5366" class="Bound">A</a> <a id="5394" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5396" href="Algorithmic.html#5368" class="Bound">B</a>
      <a id="5404" class="Comment">---------</a>
    <a id="5418" class="Symbol">→</a> <a id="5420" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5422" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5424" href="Algorithmic.html#5366" class="Bound">A</a> <a id="5426" href="Type.BetaNormal.html#1331" class="InductiveConstructor Operator">⇒</a> <a id="5428" href="Algorithmic.html#5368" class="Bound">B</a>

  <a id="_⊢_._·_"></a><a id="5433" href="Algorithmic.html#5433" class="InductiveConstructor Operator">_·_</a> <a id="5437" class="Symbol">:</a> <a id="5439" class="Symbol">∀</a> <a id="5441" class="Symbol">{</a><a id="5442" href="Algorithmic.html#5442" class="Bound">A</a> <a id="5444" href="Algorithmic.html#5444" class="Bound">B</a> <a id="5446" class="Symbol">:</a> <a id="5448" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5450" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5455" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5456" class="Symbol">}</a>
    <a id="5462" class="Symbol">→</a> <a id="5464" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5466" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5468" href="Algorithmic.html#5442" class="Bound">A</a> <a id="5470" href="Type.BetaNormal.html#1331" class="InductiveConstructor Operator">⇒</a> <a id="5472" href="Algorithmic.html#5444" class="Bound">B</a>
    <a id="5478" class="Symbol">→</a> <a id="5480" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5482" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5484" href="Algorithmic.html#5442" class="Bound">A</a>
      <a id="5492" class="Comment">---------</a>
    <a id="5506" class="Symbol">→</a> <a id="5508" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5510" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5512" href="Algorithmic.html#5444" class="Bound">B</a>

  <a id="_⊢_.Λ"></a><a id="5517" href="Algorithmic.html#5517" class="InductiveConstructor">Λ</a> <a id="5519" class="Symbol">:</a> <a id="5521" class="Symbol">∀</a> <a id="5523" class="Symbol">{</a><a id="5524" href="Algorithmic.html#5524" class="Bound">K</a><a id="5525" class="Symbol">}</a>
    <a id="5531" class="Symbol">→</a> <a id="5533" class="Symbol">{</a><a id="5534" href="Algorithmic.html#5534" class="Bound">B</a> <a id="5536" class="Symbol">:</a> <a id="5538" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5540" href="Type.html#545" class="InductiveConstructor Operator">,⋆</a> <a id="5543" href="Algorithmic.html#5524" class="Bound">K</a> <a id="5545" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5550" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5551" class="Symbol">}</a>
    <a id="5557" class="Symbol">→</a> <a id="5559" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5561" href="Algorithmic.html#1643" class="InductiveConstructor Operator">,⋆</a> <a id="5564" href="Algorithmic.html#5524" class="Bound">K</a> <a id="5566" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5568" href="Algorithmic.html#5534" class="Bound">B</a>
      <a id="5576" class="Comment">-------------------</a>
    <a id="5600" class="Symbol">→</a> <a id="5602" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5604" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5606" href="Type.BetaNormal.html#1277" class="InductiveConstructor">Π</a> <a id="5608" href="Algorithmic.html#5534" class="Bound">B</a>

  <a id="_⊢_._·⋆_/_"></a><a id="5613" href="Algorithmic.html#5613" class="InductiveConstructor Operator">_·⋆_/_</a> <a id="5620" class="Symbol">:</a> <a id="5622" class="Symbol">∀</a> <a id="5624" class="Symbol">{</a><a id="5625" href="Algorithmic.html#5625" class="Bound">K</a> <a id="5627" href="Algorithmic.html#5627" class="Bound">C</a><a id="5628" class="Symbol">}</a>
    <a id="5634" class="Symbol">→</a> <a id="5636" class="Symbol">{</a><a id="5637" href="Algorithmic.html#5637" class="Bound">B</a> <a id="5639" class="Symbol">:</a> <a id="5641" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5643" href="Type.html#545" class="InductiveConstructor Operator">,⋆</a> <a id="5646" href="Algorithmic.html#5625" class="Bound">K</a> <a id="5648" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5653" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5654" class="Symbol">}</a>
    <a id="5660" class="Symbol">→</a> <a id="5662" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5664" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5666" href="Type.BetaNormal.html#1277" class="InductiveConstructor">Π</a> <a id="5668" href="Algorithmic.html#5637" class="Bound">B</a>
    <a id="5674" class="Symbol">→</a> <a id="5676" class="Symbol">(</a><a id="5677" href="Algorithmic.html#5677" class="Bound">A</a> <a id="5679" class="Symbol">:</a> <a id="5681" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5683" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5688" href="Algorithmic.html#5625" class="Bound">K</a><a id="5689" class="Symbol">)</a>
    <a id="5695" class="Symbol">→</a> <a id="5697" href="Algorithmic.html#5627" class="Bound">C</a> <a id="5699" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5701" href="Algorithmic.html#5637" class="Bound">B</a> <a id="5703" href="Algorithmic.html#849" class="Function Operator">[</a> <a id="5705" href="Algorithmic.html#5677" class="Bound">A</a> <a id="5707" href="Algorithmic.html#849" class="Function Operator">]</a>
      <a id="5715" class="Comment">--------------</a>
    <a id="5734" class="Symbol">→</a> <a id="5736" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5738" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5740" href="Algorithmic.html#5627" class="Bound">C</a>

  <a id="_⊢_.wrap"></a><a id="5745" href="Algorithmic.html#5745" class="InductiveConstructor">wrap</a> <a id="5750" class="Symbol">:</a> <a id="5752" class="Symbol">∀{</a><a id="5754" href="Algorithmic.html#5754" class="Bound">K</a><a id="5755" class="Symbol">}</a>
   <a id="5760" class="Symbol">→</a> <a id="5762" class="Symbol">(</a><a id="5763" href="Algorithmic.html#5763" class="Bound">A</a> <a id="5765" class="Symbol">:</a> <a id="5767" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5769" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5774" class="Symbol">(</a><a id="5775" href="Algorithmic.html#5754" class="Bound">K</a> <a id="5777" href="Utils.html#6860" class="InductiveConstructor Operator">⇒</a> <a id="5779" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5780" class="Symbol">)</a> <a id="5782" href="Utils.html#6860" class="InductiveConstructor Operator">⇒</a> <a id="5784" href="Algorithmic.html#5754" class="Bound">K</a> <a id="5786" href="Utils.html#6860" class="InductiveConstructor Operator">⇒</a> <a id="5788" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="5789" class="Symbol">)</a>
   <a id="5794" class="Symbol">→</a> <a id="5796" class="Symbol">(</a><a id="5797" href="Algorithmic.html#5797" class="Bound">B</a> <a id="5799" class="Symbol">:</a> <a id="5801" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5803" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5808" href="Algorithmic.html#5754" class="Bound">K</a><a id="5809" class="Symbol">)</a>
   <a id="5814" class="Symbol">→</a> <a id="5816" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5818" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5820" href="Type.BetaNBE.html#4422" class="Function">nf</a> <a id="5823" class="Symbol">(</a><a id="5824" href="Type.BetaNormal.html#2996" class="Function">embNf</a> <a id="5830" href="Algorithmic.html#5763" class="Bound">A</a> <a id="5832" href="Type.html#2005" class="InductiveConstructor Operator">·</a> <a id="5834" href="Type.html#1950" class="InductiveConstructor">ƛ</a> <a id="5836" class="Symbol">(</a><a id="5837" href="Type.html#2070" class="InductiveConstructor">μ</a> <a id="5839" class="Symbol">(</a><a id="5840" href="Type.BetaNormal.html#2996" class="Function">embNf</a> <a id="5846" class="Symbol">(</a><a id="5847" href="Type.BetaNormal.html#2858" class="Function">weakenNf</a> <a id="5856" href="Algorithmic.html#5763" class="Bound">A</a><a id="5857" class="Symbol">))</a> <a id="5860" class="Symbol">(</a><a id="5861" href="Type.html#1797" class="InductiveConstructor">`</a> <a id="5863" href="Type.html#921" class="InductiveConstructor">Z</a><a id="5864" class="Symbol">))</a> <a id="5867" href="Type.html#2005" class="InductiveConstructor Operator">·</a> <a id="5869" href="Type.BetaNormal.html#2996" class="Function">embNf</a> <a id="5875" href="Algorithmic.html#5797" class="Bound">B</a><a id="5876" class="Symbol">)</a>
     <a id="5883" class="Comment">-------------------------------------------------------------</a>
   <a id="5948" class="Symbol">→</a> <a id="5950" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="5952" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="5954" href="Type.BetaNormal.html#1536" class="InductiveConstructor">μ</a> <a id="5956" href="Algorithmic.html#5763" class="Bound">A</a> <a id="5958" href="Algorithmic.html#5797" class="Bound">B</a>

  <a id="_⊢_.unwrap"></a><a id="5963" href="Algorithmic.html#5963" class="InductiveConstructor">unwrap</a> <a id="5970" class="Symbol">:</a> <a id="5972" class="Symbol">∀{</a><a id="5974" href="Algorithmic.html#5974" class="Bound">K</a> <a id="5976" href="Algorithmic.html#5976" class="Bound">C</a><a id="5977" class="Symbol">}</a>
    <a id="5983" class="Symbol">→</a> <a id="5985" class="Symbol">{</a><a id="5986" href="Algorithmic.html#5986" class="Bound">A</a> <a id="5988" class="Symbol">:</a> <a id="5990" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="5992" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="5997" class="Symbol">(</a><a id="5998" href="Algorithmic.html#5974" class="Bound">K</a> <a id="6000" href="Utils.html#6860" class="InductiveConstructor Operator">⇒</a> <a id="6002" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="6003" class="Symbol">)</a> <a id="6005" href="Utils.html#6860" class="InductiveConstructor Operator">⇒</a> <a id="6007" href="Algorithmic.html#5974" class="Bound">K</a> <a id="6009" href="Utils.html#6860" class="InductiveConstructor Operator">⇒</a> <a id="6011" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="6012" class="Symbol">}</a>
    <a id="6018" class="Symbol">→</a> <a id="6020" class="Symbol">{</a><a id="6021" href="Algorithmic.html#6021" class="Bound">B</a> <a id="6023" class="Symbol">:</a> <a id="6025" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="6027" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="6032" href="Algorithmic.html#5974" class="Bound">K</a><a id="6033" class="Symbol">}</a>
    <a id="6039" class="Symbol">→</a> <a id="6041" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="6043" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="6045" href="Type.BetaNormal.html#1536" class="InductiveConstructor">μ</a> <a id="6047" href="Algorithmic.html#5986" class="Bound">A</a> <a id="6049" href="Algorithmic.html#6021" class="Bound">B</a>
    <a id="6055" class="Symbol">→</a> <a id="6057" href="Algorithmic.html#5976" class="Bound">C</a> <a id="6059" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6061" href="Type.BetaNBE.html#4422" class="Function">nf</a> <a id="6064" class="Symbol">(</a><a id="6065" href="Type.BetaNormal.html#2996" class="Function">embNf</a> <a id="6071" href="Algorithmic.html#5986" class="Bound">A</a> <a id="6073" href="Type.html#2005" class="InductiveConstructor Operator">·</a> <a id="6075" href="Type.html#1950" class="InductiveConstructor">ƛ</a> <a id="6077" class="Symbol">(</a><a id="6078" href="Type.html#2070" class="InductiveConstructor">μ</a> <a id="6080" class="Symbol">(</a><a id="6081" href="Type.BetaNormal.html#2996" class="Function">embNf</a> <a id="6087" class="Symbol">(</a><a id="6088" href="Type.BetaNormal.html#2858" class="Function">weakenNf</a> <a id="6097" href="Algorithmic.html#5986" class="Bound">A</a><a id="6098" class="Symbol">))</a> <a id="6101" class="Symbol">(</a><a id="6102" href="Type.html#1797" class="InductiveConstructor">`</a> <a id="6104" href="Type.html#921" class="InductiveConstructor">Z</a><a id="6105" class="Symbol">))</a> <a id="6108" href="Type.html#2005" class="InductiveConstructor Operator">·</a> <a id="6110" href="Type.BetaNormal.html#2996" class="Function">embNf</a> <a id="6116" href="Algorithmic.html#6021" class="Bound">B</a><a id="6117" class="Symbol">)</a>
      <a id="6125" class="Comment">-------------------------------------------------------------</a>
    <a id="6191" class="Symbol">→</a> <a id="6193" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="6195" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="6197" href="Algorithmic.html#5976" class="Bound">C</a>

  <a id="_⊢_.constr"></a><a id="6202" href="Algorithmic.html#6202" class="InductiveConstructor">constr</a> <a id="6209" class="Symbol">:</a> <a id="6211" class="Symbol">∀{</a><a id="6213" href="Algorithmic.html#6213" class="Bound">n</a><a id="6214" class="Symbol">}</a>
      <a id="6222" class="Symbol">→</a> <a id="6224" class="Symbol">(</a><a id="6225" href="Algorithmic.html#6225" class="Bound">i</a> <a id="6227" class="Symbol">:</a> <a id="6229" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="6233" href="Algorithmic.html#6213" class="Bound">n</a><a id="6234" class="Symbol">)</a>                     <a id="6256" class="Comment">-- The tag</a>

      <a id="6274" class="Symbol">→</a> <a id="6276" class="Symbol">(</a><a id="6277" href="Algorithmic.html#6277" class="Bound">Tss</a> <a id="6281" class="Symbol">:</a> <a id="6283" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="6287" class="Symbol">(</a><a id="6288" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6293" class="Symbol">(</a><a id="6294" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="6296" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="6301" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="6302" class="Symbol">))</a> <a id="6305" href="Algorithmic.html#6213" class="Bound">n</a><a id="6306" class="Symbol">)</a> <a id="6308" class="Comment">-- The types of the sum of products. </a>
                                        <a id="6386" class="Comment">-- We make it a Vector of lists, so that </a>
                                        <a id="6468" class="Comment">-- the tag is statically correct.</a>
                                        <a id="6542" class="Comment">-- We use the name `Tss` as it stands for a </a>
                                        <a id="6627" class="Comment">-- a container of containers of types.</a>
      
      <a id="6679" class="Symbol">→</a> <a id="6681" class="Symbol">∀</a> <a id="6683" class="Symbol">{</a><a id="6684" href="Algorithmic.html#6684" class="Bound">ts</a><a id="6686" class="Symbol">}</a> <a id="6688" class="Symbol">→</a> <a id="6690" href="Algorithmic.html#6684" class="Bound">ts</a> <a id="6693" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6695" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="6702" href="Algorithmic.html#6277" class="Bound">Tss</a> <a id="6706" href="Algorithmic.html#6225" class="Bound">i</a>      <a id="6713" class="Comment">-- The reason to define it like this, rather than</a>
      <a id="6769" class="Symbol">→</a> <a id="6771" href="Algorithmic.html#5074" class="Function">ConstrArgs</a> <a id="6782" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="6784" href="Algorithmic.html#6684" class="Bound">ts</a>                 <a id="6803" class="Comment">-- simply ConstrArgs Γ (lookup Tss i) is so that it </a>
                                        <a id="6896" class="Comment">-- is easier to construct terms (helps to avoid the use of subst)</a>
                                        <a id="7002" class="Comment">-- as often the result of a function will not match definitionally</a>
                                        <a id="7109" class="Comment">-- with (lookup Tss i) but only propositionally.</a>
        <a id="7166" class="Comment">--------------------------------------</a>
      <a id="7211" class="Symbol">→</a> <a id="7213" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="7215" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="7217" href="Type.BetaNormal.html#1626" class="InductiveConstructor">SOP</a> <a id="7221" href="Algorithmic.html#6277" class="Bound">Tss</a>

  <a id="_⊢_.case"></a><a id="7228" href="Algorithmic.html#7228" class="InductiveConstructor">case</a> <a id="7233" class="Symbol">:</a> <a id="7235" class="Symbol">∀{</a><a id="7237" href="Algorithmic.html#7237" class="Bound">n</a><a id="7238" class="Symbol">}{</a><a id="7240" href="Algorithmic.html#7240" class="Bound">Tss</a> <a id="7244" class="Symbol">:</a> <a id="7246" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="7250" class="Symbol">_</a> <a id="7252" href="Algorithmic.html#7237" class="Bound">n</a><a id="7253" class="Symbol">}{</a><a id="7255" href="Algorithmic.html#7255" class="Bound">A</a> <a id="7257" class="Symbol">:</a> <a id="7259" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="7261" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="7266" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="7267" class="Symbol">}</a>
      <a id="7275" class="Symbol">→</a> <a id="7277" class="Symbol">(</a><a id="7278" href="Algorithmic.html#7278" class="Bound">t</a> <a id="7280" class="Symbol">:</a> <a id="7282" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="7284" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="7286" href="Type.BetaNormal.html#1626" class="InductiveConstructor">SOP</a> <a id="7290" href="Algorithmic.html#7240" class="Bound">Tss</a><a id="7293" class="Symbol">)</a>               <a id="7309" class="Comment">-- The term we case on</a>
      <a id="7338" class="Symbol">→</a> <a id="7340" class="Symbol">(</a><a id="7341" href="Algorithmic.html#7341" class="Bound">cases</a> <a id="7347" class="Symbol">:</a> <a id="7349" href="Algorithmic.html#5128" class="Datatype">Cases</a> <a id="7355" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="7357" href="Algorithmic.html#7255" class="Bound">A</a> <a id="7359" href="Algorithmic.html#7240" class="Bound">Tss</a><a id="7362" class="Symbol">)</a>
        <a id="7372" class="Comment">--------------------------</a>
      <a id="7405" class="Symbol">→</a> <a id="7407" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="7409" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="7411" href="Algorithmic.html#7255" class="Bound">A</a>

  <a id="_⊢_.con"></a><a id="7416" href="Algorithmic.html#7416" class="InductiveConstructor">con</a> <a id="7420" class="Symbol">:</a> <a id="7422" class="Symbol">∀{</a><a id="7424" href="Algorithmic.html#7424" class="Bound">A</a> <a id="7426" class="Symbol">:</a> <a id="7428" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="7430" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="7435" href="Utils.html#6822" class="InductiveConstructor">♯</a><a id="7436" class="Symbol">}{</a><a id="7438" href="Algorithmic.html#7438" class="Bound">B</a><a id="7439" class="Symbol">}</a>
    <a id="7445" class="Symbol">→</a> <a id="7447" href="Algorithmic.html#3854" class="Function Operator">⟦</a> <a id="7449" href="Algorithmic.html#7424" class="Bound">A</a> <a id="7451" href="Algorithmic.html#3854" class="Function Operator">⟧</a>
    <a id="7457" class="Symbol">→</a> <a id="7459" href="Algorithmic.html#7438" class="Bound">B</a> <a id="7461" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7463" href="Type.BetaNBE.RenamingSubstitution.html#13642" class="Function">subNf∅</a> <a id="7470" href="Algorithmic.html#7424" class="Bound">A</a>
      <a id="7478" class="Comment">---------------------</a>
    <a id="7504" class="Symbol">→</a> <a id="7506" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="7508" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="7510" href="Type.BetaNormal.html#1507" class="InductiveConstructor">con</a> <a id="7514" href="Algorithmic.html#7438" class="Bound">B</a>

  <a id="_⊢_.builtin_/_"></a><a id="7519" href="Algorithmic.html#7519" class="InductiveConstructor Operator">builtin_/_</a> <a id="7530" class="Symbol">:</a> <a id="7532" class="Symbol">∀{</a><a id="7534" href="Algorithmic.html#7534" class="Bound">C</a><a id="7535" class="Symbol">}</a>
    <a id="7541" class="Symbol">→</a> <a id="7543" class="Symbol">(</a><a id="7544" href="Algorithmic.html#7544" class="Bound">b</a> <a id="7546" class="Symbol">:</a>  <a id="7549" href="Builtin.html#1212" class="Datatype">Builtin</a><a id="7556" class="Symbol">)</a>
    <a id="7562" class="Symbol">→</a> <a id="7564" href="Algorithmic.html#7534" class="Bound">C</a> <a id="7566" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7568" href="Algorithmic.Signature.html#1129" class="Function">btype</a> <a id="7574" href="Algorithmic.html#7544" class="Bound">b</a>
      <a id="7582" class="Comment">--------------</a>
    <a id="7601" class="Symbol">→</a> <a id="7603" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="7605" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="7607" href="Algorithmic.html#7534" class="Bound">C</a>

  <a id="_⊢_.error"></a><a id="7612" href="Algorithmic.html#7612" class="InductiveConstructor">error</a> <a id="7618" class="Symbol">:</a>
      <a id="7626" class="Symbol">(</a><a id="7627" href="Algorithmic.html#7627" class="Bound">A</a> <a id="7629" class="Symbol">:</a> <a id="7631" href="Algorithmic.html#5271" class="Bound">Φ</a> <a id="7633" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="7638" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="7639" class="Symbol">)</a>
      <a id="7647" class="Comment">--------------</a>
    <a id="7666" class="Symbol">→</a> <a id="7668" href="Algorithmic.html#5263" class="Bound">Γ</a> <a id="7670" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="7672" href="Algorithmic.html#7627" class="Bound">A</a>

<a id="7675" class="Comment">-- The type of arguments to a `constr` constructor</a>
<a id="7726" href="Algorithmic.html#5074" class="Function">ConstrArgs</a> <a id="7737" href="Algorithmic.html#7737" class="Bound">Γ</a> <a id="7739" class="Symbol">=</a> <a id="7741" href="Utils.List.html#3838" class="Datatype">IList</a> <a id="7747" class="Symbol">(</a><a id="7748" href="Algorithmic.html#7737" class="Bound">Γ</a> <a id="7750" href="Algorithmic.html#5258" class="Datatype Operator">⊢_</a><a id="7752" class="Symbol">)</a>

<a id="7755" class="Comment">-- Cases is indexed by a vector </a>
<a id="7788" class="Comment">-- so it can&#39;t be an IList</a>
<a id="7815" class="Keyword">data</a> <a id="7820" href="Algorithmic.html#5128" class="Datatype">Cases</a> <a id="7826" href="Algorithmic.html#7826" class="Bound">Γ</a> <a id="7828" href="Algorithmic.html#7828" class="Bound">B</a> <a id="7830" class="Keyword">where</a> 
   <a id="Cases.[]"></a><a id="7840" href="Algorithmic.html#7840" class="InductiveConstructor">[]</a>  <a id="7844" class="Symbol">:</a> <a id="7846" href="Algorithmic.html#5128" class="Datatype">Cases</a> <a id="7852" href="Algorithmic.html#7826" class="Bound">Γ</a> <a id="7854" href="Algorithmic.html#7828" class="Bound">B</a> <a id="7856" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
   <a id="Cases._∷_"></a><a id="7862" href="Algorithmic.html#7862" class="InductiveConstructor Operator">_∷_</a> <a id="7866" class="Symbol">:</a> <a id="7868" class="Symbol">∀{</a><a id="7870" href="Algorithmic.html#7870" class="Bound">n</a><a id="7871" class="Symbol">}{</a><a id="7873" href="Algorithmic.html#7873" class="Bound">Ts</a><a id="7875" class="Symbol">}{</a><a id="7877" href="Algorithmic.html#7877" class="Bound">Tss</a> <a id="7881" class="Symbol">:</a> <a id="7883" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="7887" class="Symbol">_</a> <a id="7889" href="Algorithmic.html#7870" class="Bound">n</a><a id="7890" class="Symbol">}(</a>
         <a id="7902" href="Algorithmic.html#7902" class="Bound">c</a> <a id="7904" class="Symbol">:</a> <a id="7906" href="Algorithmic.html#7826" class="Bound">Γ</a> <a id="7908" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="7910" class="Symbol">(</a><a id="7911" href="Algorithmic.html#4849" class="Function">mkCaseType</a> <a id="7922" href="Algorithmic.html#7828" class="Bound">B</a> <a id="7924" href="Algorithmic.html#7873" class="Bound">Ts</a><a id="7926" class="Symbol">))</a> 
       <a id="7937" class="Symbol">→</a> <a id="7939" class="Symbol">(</a><a id="7940" href="Algorithmic.html#7940" class="Bound">cs</a> <a id="7943" class="Symbol">:</a> <a id="7945" href="Algorithmic.html#5128" class="Datatype">Cases</a> <a id="7951" href="Algorithmic.html#7826" class="Bound">Γ</a> <a id="7953" href="Algorithmic.html#7828" class="Bound">B</a> <a id="7955" href="Algorithmic.html#7877" class="Bound">Tss</a><a id="7958" class="Symbol">)</a>
         <a id="7969" class="Comment">--------------------- </a>
       <a id="7999" class="Symbol">→</a> <a id="8001" href="Algorithmic.html#5128" class="Datatype">Cases</a> <a id="8007" href="Algorithmic.html#7826" class="Bound">Γ</a> <a id="8009" href="Algorithmic.html#7828" class="Bound">B</a> <a id="8011" class="Symbol">(</a><a id="8012" href="Algorithmic.html#7873" class="Bound">Ts</a> <a id="8015" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">∷</a> <a id="8017" href="Algorithmic.html#7877" class="Bound">Tss</a><a id="8020" class="Symbol">)</a> 
</pre>
Utility functions

<pre class="Agda"><a id="conv∋"></a><a id="8051" href="Algorithmic.html#8051" class="Function">conv∋</a> <a id="8057" class="Symbol">:</a> <a id="8059" class="Symbol">∀</a> <a id="8061" class="Symbol">{</a><a id="8062" href="Algorithmic.html#8062" class="Bound">Γ</a> <a id="8064" href="Algorithmic.html#8064" class="Bound">Γ&#39;</a><a id="8066" class="Symbol">}{</a><a id="8068" href="Algorithmic.html#8068" class="Bound">A</a> <a id="8070" href="Algorithmic.html#8070" class="Bound">A&#39;</a> <a id="8073" class="Symbol">:</a> <a id="8075" href="Type.html#635" class="Generalizable">Φ</a> <a id="8077" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="8082" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="8083" class="Symbol">}</a>
 <a id="8086" class="Symbol">→</a> <a id="8088" href="Algorithmic.html#8062" class="Bound">Γ</a> <a id="8090" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8092" href="Algorithmic.html#8064" class="Bound">Γ&#39;</a>
 <a id="8096" class="Symbol">→</a> <a id="8098" href="Algorithmic.html#8068" class="Bound">A</a> <a id="8100" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8102" href="Algorithmic.html#8070" class="Bound">A&#39;</a>
 <a id="8106" class="Symbol">→</a> <a id="8108" href="Algorithmic.html#8062" class="Bound">Γ</a> <a id="8110" href="Algorithmic.html#2059" class="Datatype Operator">∋</a> <a id="8112" href="Algorithmic.html#8068" class="Bound">A</a>
 <a id="8115" class="Symbol">→</a> <a id="8117" href="Algorithmic.html#8064" class="Bound">Γ&#39;</a> <a id="8120" href="Algorithmic.html#2059" class="Datatype Operator">∋</a> <a id="8122" href="Algorithmic.html#8070" class="Bound">A&#39;</a>
<a id="8125" href="Algorithmic.html#8051" class="Function">conv∋</a> <a id="8131" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8136" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8141" href="Algorithmic.html#8141" class="Bound">x</a> <a id="8143" class="Symbol">=</a> <a id="8145" href="Algorithmic.html#8141" class="Bound">x</a>

<a id="conv⊢"></a><a id="8148" href="Algorithmic.html#8148" class="Function">conv⊢</a> <a id="8154" class="Symbol">:</a> <a id="8156" class="Symbol">∀</a> <a id="8158" class="Symbol">{</a><a id="8159" href="Algorithmic.html#8159" class="Bound">Γ</a> <a id="8161" href="Algorithmic.html#8161" class="Bound">Γ&#39;</a><a id="8163" class="Symbol">}{</a><a id="8165" href="Algorithmic.html#8165" class="Bound">A</a> <a id="8167" href="Algorithmic.html#8167" class="Bound">A&#39;</a> <a id="8170" class="Symbol">:</a> <a id="8172" href="Type.html#635" class="Generalizable">Φ</a> <a id="8174" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="8179" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="8180" class="Symbol">}</a>
 <a id="8183" class="Symbol">→</a> <a id="8185" href="Algorithmic.html#8159" class="Bound">Γ</a> <a id="8187" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8189" href="Algorithmic.html#8161" class="Bound">Γ&#39;</a>
 <a id="8193" class="Symbol">→</a> <a id="8195" href="Algorithmic.html#8165" class="Bound">A</a> <a id="8197" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8199" href="Algorithmic.html#8167" class="Bound">A&#39;</a>
 <a id="8203" class="Symbol">→</a> <a id="8205" href="Algorithmic.html#8159" class="Bound">Γ</a> <a id="8207" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="8209" href="Algorithmic.html#8165" class="Bound">A</a>
 <a id="8212" class="Symbol">→</a> <a id="8214" href="Algorithmic.html#8161" class="Bound">Γ&#39;</a> <a id="8217" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="8219" href="Algorithmic.html#8167" class="Bound">A&#39;</a>
<a id="8222" href="Algorithmic.html#8148" class="Function">conv⊢</a> <a id="8228" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8233" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8238" href="Algorithmic.html#8238" class="Bound">t</a> <a id="8240" class="Symbol">=</a> <a id="8242" href="Algorithmic.html#8238" class="Bound">t</a>

<a id="lookupCase"></a><a id="8245" href="Algorithmic.html#8245" class="Function">lookupCase</a> <a id="8256" class="Symbol">:</a> <a id="8258" class="Symbol">∀{</a><a id="8260" href="Algorithmic.html#8260" class="Bound">n</a> <a id="8262" href="Algorithmic.html#8262" class="Bound">Φ</a><a id="8263" class="Symbol">}{</a><a id="8265" href="Algorithmic.html#8265" class="Bound">Γ</a> <a id="8267" class="Symbol">:</a> <a id="8269" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="8273" href="Algorithmic.html#8262" class="Bound">Φ</a><a id="8274" class="Symbol">}{</a><a id="8276" href="Algorithmic.html#8276" class="Bound">A</a><a id="8277" class="Symbol">}{</a><a id="8279" href="Algorithmic.html#8279" class="Bound">Tss</a> <a id="8283" class="Symbol">:</a> <a id="8285" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="8289" class="Symbol">_</a> <a id="8291" href="Algorithmic.html#8260" class="Bound">n</a><a id="8292" class="Symbol">}</a> <a id="8294" class="Symbol">→</a> <a id="8296" class="Symbol">(</a><a id="8297" href="Algorithmic.html#8297" class="Bound">i</a> <a id="8299" class="Symbol">:</a> <a id="8301" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="8305" href="Algorithmic.html#8260" class="Bound">n</a><a id="8306" class="Symbol">)</a> <a id="8308" class="Symbol">→</a> <a id="8310" href="Algorithmic.html#5128" class="Datatype">Cases</a> <a id="8316" href="Algorithmic.html#8265" class="Bound">Γ</a> <a id="8318" href="Algorithmic.html#8276" class="Bound">A</a> <a id="8320" href="Algorithmic.html#8279" class="Bound">Tss</a> <a id="8324" class="Symbol">→</a> <a id="8326" href="Algorithmic.html#8265" class="Bound">Γ</a> <a id="8328" href="Algorithmic.html#5258" class="Datatype Operator">⊢</a> <a id="8330" href="Algorithmic.html#4849" class="Function">mkCaseType</a> <a id="8341" href="Algorithmic.html#8276" class="Bound">A</a> <a id="8343" class="Symbol">(</a><a id="8344" href="Data.Vec.Base.html#1614" class="Function">Vec.lookup</a> <a id="8355" href="Algorithmic.html#8279" class="Bound">Tss</a> <a id="8359" href="Algorithmic.html#8297" class="Bound">i</a><a id="8360" class="Symbol">)</a>
<a id="8362" href="Algorithmic.html#8245" class="Function">lookupCase</a> <a id="8373" href="Data.Fin.Base.html#1157" class="InductiveConstructor">Fin.zero</a> <a id="8382" class="Symbol">(</a><a id="8383" href="Algorithmic.html#8383" class="Bound">c</a> <a id="8385" href="Algorithmic.html#7862" class="InductiveConstructor Operator">∷</a> <a id="8387" href="Algorithmic.html#8387" class="Bound">cs</a><a id="8389" class="Symbol">)</a> <a id="8391" class="Symbol">=</a> <a id="8393" href="Algorithmic.html#8383" class="Bound">c</a>
<a id="8395" href="Algorithmic.html#8245" class="Function">lookupCase</a> <a id="8406" class="Symbol">(</a><a id="8407" href="Data.Fin.Base.html#1188" class="InductiveConstructor">Fin.suc</a> <a id="8415" href="Algorithmic.html#8415" class="Bound">i</a><a id="8416" class="Symbol">)</a> <a id="8418" class="Symbol">(</a><a id="8419" href="Algorithmic.html#8419" class="Bound">c</a> <a id="8421" href="Algorithmic.html#7862" class="InductiveConstructor Operator">∷</a> <a id="8423" href="Algorithmic.html#8423" class="Bound">cs</a><a id="8425" class="Symbol">)</a> <a id="8427" class="Symbol">=</a> <a id="8429" href="Algorithmic.html#8245" class="Function">lookupCase</a> <a id="8440" href="Algorithmic.html#8415" class="Bound">i</a> <a id="8442" href="Algorithmic.html#8423" class="Bound">cs</a>

<a id="bwdMkCaseType"></a><a id="8446" href="Algorithmic.html#8446" class="Function">bwdMkCaseType</a> <a id="8460" class="Symbol">:</a> <a id="8462" class="Symbol">∀{</a><a id="8464" href="Algorithmic.html#8464" class="Bound">Φ</a><a id="8465" class="Symbol">}</a> <a id="8467" class="Symbol">→</a> <a id="8469" href="Utils.List.html#713" class="Datatype">Bwd</a> <a id="8473" class="Symbol">(</a><a id="8474" href="Algorithmic.html#8464" class="Bound">Φ</a> <a id="8476" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="8481" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="8482" class="Symbol">)</a> <a id="8484" class="Symbol">→</a> <a id="8486" class="Symbol">(</a><a id="8487" href="Algorithmic.html#8487" class="Bound">A</a> <a id="8489" class="Symbol">:</a> <a id="8491" href="Algorithmic.html#8464" class="Bound">Φ</a> <a id="8493" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="8498" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="8499" class="Symbol">)</a> <a id="8501" class="Symbol">→</a> <a id="8503" href="Algorithmic.html#8464" class="Bound">Φ</a> <a id="8505" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="8510" href="Utils.html#6787" class="InductiveConstructor">*</a>
<a id="8512" href="Algorithmic.html#8446" class="Function">bwdMkCaseType</a> <a id="8526" href="Algorithmic.html#8526" class="Bound">bs</a> <a id="8529" href="Algorithmic.html#8529" class="Bound">A</a> <a id="8531" class="Symbol">=</a> <a id="8533" href="Utils.List.html#887" class="Function">bwd-foldr</a> <a id="8543" href="Type.BetaNormal.html#1331" class="InductiveConstructor Operator">_⇒_</a> <a id="8547" href="Algorithmic.html#8529" class="Bound">A</a> <a id="8549" href="Algorithmic.html#8526" class="Bound">bs</a>

<a id="lemma-bwdfwdfunction&#39;"></a><a id="8553" href="Algorithmic.html#8553" class="Function">lemma-bwdfwdfunction&#39;</a> <a id="8575" class="Symbol">:</a> <a id="8577" class="Symbol">∀{</a><a id="8579" href="Algorithmic.html#8579" class="Bound">Φ</a><a id="8580" class="Symbol">}</a> <a id="8582" class="Symbol">{</a><a id="8583" href="Algorithmic.html#8583" class="Bound">B</a> <a id="8585" class="Symbol">:</a> <a id="8587" href="Algorithmic.html#8579" class="Bound">Φ</a> <a id="8589" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="8594" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="8595" class="Symbol">}</a> <a id="8597" href="Algorithmic.html#8597" class="Bound">Ts</a> <a id="8600" class="Symbol">→</a> <a id="8602" href="Algorithmic.html#4849" class="Function">mkCaseType</a> <a id="8613" href="Algorithmic.html#8583" class="Bound">B</a> <a id="8615" href="Algorithmic.html#8597" class="Bound">Ts</a> <a id="8618" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8620" href="Algorithmic.html#8446" class="Function">bwdMkCaseType</a> <a id="8634" class="Symbol">(</a><a id="8635" class="InductiveConstructor">[]</a> <a id="8638" href="Utils.List.html#1342" class="Function Operator">&lt;&gt;&lt;</a> <a id="8642" href="Algorithmic.html#8597" class="Bound">Ts</a><a id="8644" class="Symbol">)</a> <a id="8646" href="Algorithmic.html#8583" class="Bound">B</a>
<a id="8648" href="Algorithmic.html#8553" class="Function">lemma-bwdfwdfunction&#39;</a> <a id="8670" class="Symbol">{</a><a id="8671" class="Argument">B</a> <a id="8673" class="Symbol">=</a> <a id="8675" href="Algorithmic.html#8675" class="Bound">B</a><a id="8676" class="Symbol">}</a> <a id="8678" href="Algorithmic.html#8678" class="Bound">Ts</a> <a id="8681" class="Symbol">=</a> <a id="8683" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a> <a id="8689" class="Symbol">(</a><a id="8690" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="8695" class="Symbol">(</a><a id="8696" href="Algorithmic.html#4849" class="Function">mkCaseType</a> <a id="8707" href="Algorithmic.html#8675" class="Bound">B</a><a id="8708" class="Symbol">)</a> <a id="8710" class="Symbol">(</a><a id="8711" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="8715" class="Symbol">(</a><a id="8716" href="Utils.List.html#1685" class="Function">lemma&lt;&gt;1</a> <a id="8725" href="Utils.List.html#741" class="InductiveConstructor">[]</a> <a id="8728" href="Algorithmic.html#8678" class="Bound">Ts</a><a id="8730" class="Symbol">)))</a> <a id="8734" class="Symbol">(</a><a id="8735" href="Utils.List.html#2389" class="Function">lemma-bwd-foldr</a> <a id="8751" href="Type.BetaNormal.html#1331" class="InductiveConstructor Operator">_⇒_</a> <a id="8755" href="Algorithmic.html#8675" class="Bound">B</a> <a id="8757" class="Symbol">(</a><a id="8758" href="Utils.List.html#741" class="InductiveConstructor">[]</a> <a id="8761" href="Utils.List.html#1342" class="Function Operator">&lt;&gt;&lt;</a> <a id="8765" href="Algorithmic.html#8678" class="Bound">Ts</a><a id="8767" class="Symbol">))</a>         

<a id="constr-cong"></a><a id="8780" href="Algorithmic.html#8780" class="Function">constr-cong</a> <a id="8792" class="Symbol">:</a>  <a id="8795" class="Symbol">∀{</a><a id="8797" href="Algorithmic.html#8797" class="Bound">Γ</a> <a id="8799" class="Symbol">:</a> <a id="8801" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="8805" href="Type.html#635" class="Generalizable">Φ</a><a id="8806" class="Symbol">}{</a><a id="8808" href="Algorithmic.html#8808" class="Bound">n</a><a id="8809" class="Symbol">}{</a><a id="8811" href="Algorithmic.html#8811" class="Bound">i</a> <a id="8813" class="Symbol">:</a> <a id="8815" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="8819" href="Algorithmic.html#8808" class="Bound">n</a><a id="8820" class="Symbol">}{</a><a id="8822" href="Algorithmic.html#8822" class="Bound">Tss</a> <a id="8826" class="Symbol">:</a> <a id="8828" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="8832" class="Symbol">(</a><a id="8833" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8838" class="Symbol">(</a><a id="8839" href="Type.html#635" class="Generalizable">Φ</a> <a id="8841" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="8846" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="8847" class="Symbol">))</a> <a id="8850" href="Algorithmic.html#8808" class="Bound">n</a><a id="8851" class="Symbol">}{</a><a id="8853" href="Algorithmic.html#8853" class="Bound">ts</a><a id="8855" class="Symbol">}</a> 
            <a id="8870" class="Symbol">→</a> <a id="8872" class="Symbol">(</a><a id="8873" href="Algorithmic.html#8873" class="Bound">p</a> <a id="8875" class="Symbol">:</a> <a id="8877" href="Algorithmic.html#8853" class="Bound">ts</a> <a id="8880" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8882" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="8889" href="Algorithmic.html#8822" class="Bound">Tss</a> <a id="8893" href="Algorithmic.html#8811" class="Bound">i</a><a id="8894" class="Symbol">)</a>
            <a id="8908" class="Symbol">→</a> <a id="8910" class="Symbol">{</a><a id="8911" href="Algorithmic.html#8911" class="Bound">cs</a> <a id="8914" class="Symbol">:</a> <a id="8916" href="Algorithmic.html#5074" class="Function">ConstrArgs</a> <a id="8927" href="Algorithmic.html#8797" class="Bound">Γ</a> <a id="8929" href="Algorithmic.html#8853" class="Bound">ts</a><a id="8931" class="Symbol">}</a>
            <a id="8945" class="Symbol">→</a> <a id="8947" class="Symbol">{</a><a id="8948" href="Algorithmic.html#8948" class="Bound">cs&#39;</a> <a id="8952" class="Symbol">:</a> <a id="8954" href="Algorithmic.html#5074" class="Function">ConstrArgs</a> <a id="8965" href="Algorithmic.html#8797" class="Bound">Γ</a> <a id="8967" class="Symbol">(</a><a id="8968" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="8975" href="Algorithmic.html#8822" class="Bound">Tss</a> <a id="8979" href="Algorithmic.html#8811" class="Bound">i</a><a id="8980" class="Symbol">)}</a>
            <a id="8995" class="Symbol">→</a> <a id="8997" class="Symbol">(</a><a id="8998" href="Algorithmic.html#8998" class="Bound">q</a> <a id="9000" class="Symbol">:</a> <a id="9002" href="Algorithmic.html#8948" class="Bound">cs&#39;</a> <a id="9006" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9008" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="9014" class="Symbol">(</a><a id="9015" href="Utils.List.html#3838" class="Datatype">IList</a> <a id="9021" class="Symbol">(</a><a id="9022" href="Algorithmic.html#8797" class="Bound">Γ</a> <a id="9024" href="Algorithmic.html#5258" class="Datatype Operator">⊢_</a><a id="9026" class="Symbol">))</a> <a id="9029" href="Algorithmic.html#8873" class="Bound">p</a> <a id="9031" href="Algorithmic.html#8911" class="Bound">cs</a><a id="9033" class="Symbol">)</a>
            <a id="9047" class="Symbol">→</a> <a id="9049" href="Algorithmic.html#6202" class="InductiveConstructor">constr</a> <a id="9056" href="Algorithmic.html#8811" class="Bound">i</a> <a id="9058" href="Algorithmic.html#8822" class="Bound">Tss</a> <a id="9062" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9067" href="Algorithmic.html#8948" class="Bound">cs&#39;</a> <a id="9071" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9073" href="Algorithmic.html#6202" class="InductiveConstructor">constr</a> <a id="9080" href="Algorithmic.html#8811" class="Bound">i</a> <a id="9082" href="Algorithmic.html#8822" class="Bound">Tss</a> <a id="9086" href="Algorithmic.html#8873" class="Bound">p</a> <a id="9088" href="Algorithmic.html#8911" class="Bound">cs</a>
<a id="9091" href="Algorithmic.html#8780" class="Function">constr-cong</a> <a id="9103" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9108" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9113" class="Symbol">=</a> <a id="9115" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="constr-cong&#39;"></a><a id="9121" href="Algorithmic.html#9121" class="Function">constr-cong&#39;</a> <a id="9134" class="Symbol">:</a>  <a id="9137" class="Symbol">∀{</a><a id="9139" href="Algorithmic.html#9139" class="Bound">Γ</a> <a id="9141" class="Symbol">:</a> <a id="9143" href="Algorithmic.html#1603" class="Datatype">Ctx</a> <a id="9147" href="Type.html#635" class="Generalizable">Φ</a><a id="9148" class="Symbol">}{</a><a id="9150" href="Algorithmic.html#9150" class="Bound">n</a><a id="9151" class="Symbol">}{</a><a id="9153" href="Algorithmic.html#9153" class="Bound">i</a> <a id="9155" class="Symbol">:</a> <a id="9157" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="9161" href="Algorithmic.html#9150" class="Bound">n</a><a id="9162" class="Symbol">}{</a><a id="9164" href="Algorithmic.html#9164" class="Bound">A</a> <a id="9166" class="Symbol">:</a> <a id="9168" href="Data.Vec.Base.html#1007" class="Datatype">Vec</a> <a id="9172" class="Symbol">(</a><a id="9173" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9178" class="Symbol">(</a><a id="9179" href="Type.html#635" class="Generalizable">Φ</a> <a id="9181" href="Type.BetaNormal.html#1002" class="Datatype Operator">⊢Nf⋆</a> <a id="9186" href="Utils.html#6787" class="InductiveConstructor">*</a><a id="9187" class="Symbol">))</a> <a id="9190" href="Algorithmic.html#9150" class="Bound">n</a><a id="9191" class="Symbol">}{</a><a id="9193" href="Algorithmic.html#9193" class="Bound">ts</a><a id="9195" class="Symbol">}{</a><a id="9197" href="Algorithmic.html#9197" class="Bound">ts&#39;</a><a id="9200" class="Symbol">}</a> 
            <a id="9215" class="Symbol">→</a> <a id="9217" class="Symbol">(</a><a id="9218" href="Algorithmic.html#9218" class="Bound">p</a> <a id="9220" class="Symbol">:</a> <a id="9222" href="Algorithmic.html#9193" class="Bound">ts</a> <a id="9225" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9227" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="9234" href="Algorithmic.html#9164" class="Bound">A</a> <a id="9236" href="Algorithmic.html#9153" class="Bound">i</a><a id="9237" class="Symbol">)(</a><a id="9239" href="Algorithmic.html#9239" class="Bound">p&#39;</a> <a id="9242" class="Symbol">:</a> <a id="9244" href="Algorithmic.html#9197" class="Bound">ts&#39;</a> <a id="9248" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9250" href="Data.Vec.Base.html#1614" class="Function">lookup</a> <a id="9257" href="Algorithmic.html#9164" class="Bound">A</a> <a id="9259" href="Algorithmic.html#9153" class="Bound">i</a><a id="9260" class="Symbol">)</a>
            <a id="9274" class="Symbol">→</a> <a id="9276" class="Symbol">{</a><a id="9277" href="Algorithmic.html#9277" class="Bound">cs</a> <a id="9280" class="Symbol">:</a> <a id="9282" href="Algorithmic.html#5074" class="Function">ConstrArgs</a> <a id="9293" href="Algorithmic.html#9139" class="Bound">Γ</a> <a id="9295" href="Algorithmic.html#9193" class="Bound">ts</a><a id="9297" class="Symbol">}</a>
            <a id="9311" class="Symbol">→</a> <a id="9313" class="Symbol">{</a><a id="9314" href="Algorithmic.html#9314" class="Bound">cs&#39;</a> <a id="9318" class="Symbol">:</a> <a id="9320" href="Algorithmic.html#5074" class="Function">ConstrArgs</a> <a id="9331" href="Algorithmic.html#9139" class="Bound">Γ</a> <a id="9333" href="Algorithmic.html#9197" class="Bound">ts&#39;</a><a id="9336" class="Symbol">}</a>
            <a id="9350" class="Symbol">→</a> <a id="9352" class="Symbol">(</a><a id="9353" href="Algorithmic.html#9353" class="Bound">q</a> <a id="9355" class="Symbol">:</a> <a id="9357" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="9363" class="Symbol">(</a><a id="9364" href="Utils.List.html#3838" class="Datatype">IList</a> <a id="9370" class="Symbol">(</a><a id="9371" href="Algorithmic.html#9139" class="Bound">Γ</a> <a id="9373" href="Algorithmic.html#5258" class="Datatype Operator">⊢_</a><a id="9375" class="Symbol">))</a> <a id="9378" href="Algorithmic.html#9239" class="Bound">p&#39;</a> <a id="9381" href="Algorithmic.html#9314" class="Bound">cs&#39;</a> <a id="9385" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9387" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="9393" class="Symbol">(</a><a id="9394" href="Utils.List.html#3838" class="Datatype">IList</a> <a id="9400" class="Symbol">(</a><a id="9401" href="Algorithmic.html#9139" class="Bound">Γ</a> <a id="9403" href="Algorithmic.html#5258" class="Datatype Operator">⊢_</a><a id="9405" class="Symbol">))</a> <a id="9408" href="Algorithmic.html#9218" class="Bound">p</a> <a id="9410" href="Algorithmic.html#9277" class="Bound">cs</a><a id="9412" class="Symbol">)</a>
            <a id="9426" class="Symbol">→</a> <a id="9428" href="Algorithmic.html#6202" class="InductiveConstructor">constr</a> <a id="9435" href="Algorithmic.html#9153" class="Bound">i</a> <a id="9437" href="Algorithmic.html#9164" class="Bound">A</a> <a id="9439" href="Algorithmic.html#9239" class="Bound">p&#39;</a> <a id="9442" href="Algorithmic.html#9314" class="Bound">cs&#39;</a> <a id="9446" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9448" href="Algorithmic.html#6202" class="InductiveConstructor">constr</a> <a id="9455" href="Algorithmic.html#9153" class="Bound">i</a> <a id="9457" href="Algorithmic.html#9164" class="Bound">A</a> <a id="9459" href="Algorithmic.html#9218" class="Bound">p</a> <a id="9461" href="Algorithmic.html#9277" class="Bound">cs</a>
<a id="9464" href="Algorithmic.html#9121" class="Function">constr-cong&#39;</a> <a id="9477" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9482" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9487" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9492" class="Symbol">=</a> <a id="9494" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre>